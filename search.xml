<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
    
    <entry>
      <title><![CDATA[百度 IFE 春季班第二阶段任务总结]]></title>
      <url>http://dwayneten.com/2016/06/04/ife-stage2/</url>
      <content type="html"><![CDATA[<p><a href="http://ife.baidu.com/task/all" target="_blank" rel="external">IFE 春季班首页</a></p>
<blockquote>
<p>百度Web前端技术学院（Baidu Institute of Front-End Technology 简称 IFE）是一个由百度人力资源部校园招聘组、 百度EFE团队联合出品的、 面向在校大学生以及对前端技术有兴趣的前端在线学习平台， 我们希望能够借助百度大量优秀的前端工程师以及丰富的前端知识积累， 帮助人们更加有趣、 高效、 系统地学习 Web 前端技术。</p>
</blockquote>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzA4MjUyNjY3Nw==&amp;mid=402057593&amp;idx=1&amp;sn=ef20d1808470688bee1c8e242349b47c#rd" target="_blank" rel="external">第二阶段任务说明</a></p>
<blockquote>
<p>同第一阶段一样，这二十四个任务并非所有人都要去完成，而是需要大家按照自己当前的能力水平来合理评估和选择。</p>
<p>从任务的难易程度排序，简单到困难，依次是：任务 13-17，18-21，22-25 | 29-32，26-28，33-36</p>
</blockquote>
<a id="more"></a>
<h2 id="u96F6_u57FA_u7840JavaScript_u7F16_u7801"><a href="#u96F6_u57FA_u7840JavaScript_u7F16_u7801" class="headerlink" title="零基础JavaScript编码"></a>零基础JavaScript编码</h2><blockquote>
<h3 id="u4EFB_u52A1_u5341_u4E09_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E00_uFF09"><a href="#u4EFB_u52A1_u5341_u4E09_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E00_uFF09" class="headerlink" title="任务十三：零基础JavaScript编码（一）"></a><a href="http://ife.baidu.com/task/detail?taskId=13" target="_blank" rel="external">任务十三：零基础JavaScript编码（一）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0"><a href="#u4EFB_u52A1_u63CF_u8FF0" class="headerlink" title="任务描述"></a>任务描述</h4><p>参考示例代码，补充其中的JavaScript功能，完成一个JavaScript代码的编写</p>
<p>本任务完成的功能为：用户可以在输入框中输入任何内容，点击“确认填写”按钮后，用户输入的内容会显示在“您输入的值是”文字的右边</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_13\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_13" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u5341_u56DB_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E8C_uFF09"><a href="#u4EFB_u52A1_u5341_u56DB_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E8C_uFF09" class="headerlink" title="任务十四：零基础JavaScript编码（二）"></a><a href="http://ife.baidu.com/task/detail?taskId=14" target="_blank" rel="external">任务十四：零基础JavaScript编码（二）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-1"><a href="#u4EFB_u52A1_u63CF_u8FF0-1" class="headerlink" title="任务描述"></a>任务描述</h4><p>参考示例代码，页面加载后，将提供的空气质量数据数组，按照某种逻辑（比如空气质量大于60）进行过滤筛选，最后将符合条件的数据按照一定的格式要求显示在网页上</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_14\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_14" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u5341_u4E94_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E09_uFF09"><a href="#u4EFB_u52A1_u5341_u4E94_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E09_uFF09" class="headerlink" title="任务十五：零基础JavaScript编码（三）"></a><a href="http://ife.baidu.com/task/detail?taskId=15" target="_blank" rel="external">任务十五：零基础JavaScript编码（三）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-2"><a href="#u4EFB_u52A1_u63CF_u8FF0-2" class="headerlink" title="任务描述"></a>任务描述</h4><p>参考示例代码，读取页面上已有的source列表，从中提取出城市以及对应的空气质量</p>
<p>将数据按照某种顺序排序后，在resort列表中按照顺序显示出来</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_15\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_15" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u5341_u516D_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u56DB_uFF09"><a href="#u4EFB_u52A1_u5341_u516D_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u56DB_uFF09" class="headerlink" title="任务十六：零基础JavaScript编码（四）"></a><a href="http://ife.baidu.com/task/detail?taskId=16" target="_blank" rel="external">任务十六：零基础JavaScript编码（四）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-3"><a href="#u4EFB_u52A1_u63CF_u8FF0-3" class="headerlink" title="任务描述"></a>任务描述</h4><p>参考示例代码，用户输入城市名称和空气质量指数后，点击“确认添加”按钮后，就会将用户的输入在进行验证后，添加到下面的表格中，新增一行进行显示</p>
<p>用户输入的城市名必须为中英文字符，空气质量指数必须为整数</p>
<p>用户输入的城市名字和空气质量指数需要进行前后去空格及空字符处理（trim）</p>
<p>用户输入不合规格时，需要给出提示（允许用alert，也可以自行定义提示方式）</p>
<p>用户可以点击表格列中的“删除”按钮，删掉那一行的数据</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_16\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_16" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u5341_u4E03_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E94_uFF09"><a href="#u4EFB_u52A1_u5341_u4E03_uFF1A_u96F6_u57FA_u7840JavaScript_u7F16_u7801_uFF08_u4E94_uFF09" class="headerlink" title="任务十七：零基础JavaScript编码（五）"></a><a href="http://ife.baidu.com/task/detail?taskId=17" target="_blank" rel="external">任务十七：零基础JavaScript编码（五）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-4"><a href="#u4EFB_u52A1_u63CF_u8FF0-4" class="headerlink" title="任务描述"></a>任务描述</h4><p>参考以下示例代码，原始数据包含几个城市的空气质量指数数据</p>
<p>用户可以选择查看不同的时间粒度，以选择要查看的空气质量指数是以天为粒度还是以周或月为粒度</p>
<ul>
<li><p>天：显示每天的空气质量指数</p>
</li>
<li><p>周：以自然周（周一到周日）为粒度，统计一周7天的平均数为这一周的空气质量数值，如果数据中缺少一个自然周的几天，则按剩余天进行计算</p>
</li>
<li><p>月：以自然月为粒度，统一一个月所有天的平均数为这一个月的空气质量数值</p>
</li>
</ul>
<p>用户可以通过select切换城市</p>
<p>通过在<code>aqi-chart-wrap</code>里添加DOM，来模拟一个柱状图图表，横轴是时间，纵轴是空气质量指数，<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_2_17_1.jpg" target="_blank" rel="external">参考图（点击打开）</a>。天、周、月的数据只根据用户的选择显示一种。</p>
<ul>
<li><p>天：每天的数据是一个很细的矩形</p>
</li>
<li><p>周：每周的数据是一个矩形</p>
</li>
<li><p>月：每周的数据是一个很粗的矩形</p>
</li>
</ul>
<p>鼠标移动到柱状图的某个柱子时，用title属性提示这个柱子的具体日期和数据</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_17\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_17" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u603B_u7ED3"><a href="#u4EFB_u52A1_u603B_u7ED3" class="headerlink" title="任务总结"></a>任务总结</h3></blockquote>
<h4 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h4><p>实现<code>id</code>选择器</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> $ = <span class="function"><span class="keyword">function</span> (<span class="params">id</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">document</span>.getElementById(id);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>通过<code>event.target</code>获取事件目标<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">citySelect.onchange = <span class="function"><span class="keyword">function</span> (<span class="params">event</span>) </span>&#123;</span><br><span class="line">    citySelectChange(event.target.value);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>遍历<code>Object</code>的<code>key</code>及将<code>Object</code>的<code>key</code>提取到数组 (<code>ECMAScript 6</code>)<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> city <span class="keyword">in</span> aqiSourceData) &#123; ...; &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> cityKeyData = <span class="built_in">Object</span>.keys(aqiSourceData[city]);</span><br></pre></td></tr></table></figure></p>
<h4 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h4><p>实现柱形图出现时高度增长的<code>keyframes</code>动画</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="at_rule">@<span class="keyword">keyframes</span> grow </span>&#123;</span><br><span class="line">    0% <span class="rules">&#123;</span><br><span class="line">        <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">        <span class="rule"><span class="attribute">margin-top</span>:<span class="value"> <span class="number">500px</span></span></span>;</span><br><span class="line">    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="class">.chart-item</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">float</span>:<span class="value"> left</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin</span>:<span class="value"> <span class="number">1px</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">animation</span>:<span class="value"> grow <span class="number">0.5s</span> ease-in-out</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">span</span> </span><br><span class="line">  <span class="attribute">class</span>=<span class="value">"chart-item chart-item-week chart-item-color-3"</span> </span><br><span class="line">  <span class="attribute">title</span>=<span class="value">"2016-01-01~2016-01-03 AQI: 277.33"</span> </span><br><span class="line">  <span class="attribute">style</span>=<span class="value">"height: 277.33px; margin-top: calc(500px - 277.33px)"</span></span><br><span class="line">&gt;</span><span class="tag">&lt;/<span class="title">span</span>&gt;</span></span><br></pre></td></tr></table></figure>
<hr>
<h2 id="u57FA_u7840JavaScript_u7EC3_u4E60"><a href="#u57FA_u7840JavaScript_u7EC3_u4E60" class="headerlink" title="基础JavaScript练习"></a>基础JavaScript练习</h2><blockquote>
<h3 id="u4EFB_u52A1_u5341_u516B_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u4E00_uFF09"><a href="#u4EFB_u52A1_u5341_u516B_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u4E00_uFF09" class="headerlink" title="任务十八：基础JavaScript练习（一）"></a><a href="http://ife.baidu.com/task/detail?taskId=18" target="_blank" rel="external">任务十八：基础JavaScript练习（一）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-5"><a href="#u4EFB_u52A1_u63CF_u8FF0-5" class="headerlink" title="任务描述"></a>任务描述</h4><p><a href="http://7xrp04.com1.z0.glb.clouddn.com/task_2_18_1.jpg" target="_blank" rel="external">如图</a>，模拟一个队列，队列的每个元素是一个数字，初始队列为空</p>
<p>有一个input输入框，以及4个操作按钮</p>
<ul>
<li>点击”左侧入”，将 input 中输入的数字从左侧插入队列中；</li>
<li>点击”右侧入”，将 input 中输入的数字从右侧插入队列中；</li>
<li>点击”左侧出”，读取并删除队列左侧第一个元素，并弹窗显示元素中数值；</li>
<li>点击”右侧出”，读取并删除队列又侧第一个元素，并弹窗显示元素中数值；</li>
<li>点击队列中任何一个元素，则该元素会被从队列中删除</li>
</ul>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_18\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_18" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u5341_u4E5D_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u4E8C_uFF09"><a href="#u4EFB_u52A1_u5341_u4E5D_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u4E8C_uFF09" class="headerlink" title="任务十九：基础JavaScript练习（二）"></a><a href="http://ife.baidu.com/task/detail?taskId=19" target="_blank" rel="external">任务十九：基础JavaScript练习（二）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-6"><a href="#u4EFB_u52A1_u63CF_u8FF0-6" class="headerlink" title="任务描述"></a>任务描述</h4><p>基于任务18</p>
<p>限制输入的数字在 10-100<br>队列元素数量最多限制为 60 个，当超过 60 个时，添加元素时 alert 出提示<br>队列展现方式变化<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_2_19_1.jpg" target="_blank" rel="external">如图</a>，直接用高度表示数字大小<br>实现一个简单的排序功能，如冒泡排序（不限制具体算法），用可视化的方法表达出来</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_19\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_19" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u4E8C_u5341_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u4E09_uFF09"><a href="#u4EFB_u52A1_u4E8C_u5341_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u4E09_uFF09" class="headerlink" title="任务二十：基础JavaScript练习（三）"></a><a href="http://ife.baidu.com/task/detail?taskId=20" target="_blank" rel="external">任务二十：基础JavaScript练习（三）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-7"><a href="#u4EFB_u52A1_u63CF_u8FF0-7" class="headerlink" title="任务描述"></a>任务描述</h4><p>基于任务18进行升级</p>
<p>将新元素输入框从 input 改为 textarea</p>
<p>允许一次批量输入多个内容，格式可以为数字、中文、英文等，可以通过用回车，逗号（全角半角均可），顿号，空格（全角半角、Tab等均可）等符号作为不同内容的间隔</p>
<p>增加一个查询文本输入框，和一个查询按钮，当点击查询时，将查询词在各个元素内容中做模糊匹配，将匹配到的内容进行特殊标识，如文字颜色等。举例，内容中有 abcd，查询词为 ab 或 bc，则该内容需要标识</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_20\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_20" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u4E8C_u5341_u4E00_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u56DB_uFF09"><a href="#u4EFB_u52A1_u4E8C_u5341_u4E00_uFF1A_u57FA_u7840JavaScript_u7EC3_u4E60_uFF08_u56DB_uFF09" class="headerlink" title="任务二十一：基础JavaScript练习（四）"></a><a href="http://ife.baidu.com/task/detail?taskId=21" target="_blank" rel="external">任务二十一：基础JavaScript练习（四）</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-8"><a href="#u4EFB_u52A1_u63CF_u8FF0-8" class="headerlink" title="任务描述"></a>任务描述</h4><p>基于任务 20，将任务 20 的代码进行抽象、封装，然后在此基础上实现<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_2_21_1.jpg" target="_blank" rel="external">如图</a>中的两个需求：Tag 输入和兴趣爱好输入</p>
<p>如示例图上方，实现一个 tag 输入框<br>要求遇到用户输入空格，逗号，回车时，都自动把当前输入的内容作为一个 tag 放在输入框下面。<br>Tag 不能有重复的，遇到重复输入的 Tag，自动忽视。<br>每个 Tag 请做 trim 处理<br>最多允许 10 个 Tag，多于 10 个时，按照录入的先后顺序，把最前面的删掉<br>当鼠标悬停在 tag 上时，tag 前增加删除二字，点击 tag 可删除</p>
<p>如示例图下方，实现一个兴趣爱好输入的功能<br>通过一个 Textarea 进行兴趣爱好的输入，可以通过用回车，逗号（全角半角均可），顿号，空格（全角半角、Tab等均可）等符号作为间隔。<br>当点击“确认兴趣爱好”的按钮时，将 textarea 中的输入按照你设定的间隔符，拆解成一个个的爱好，显示在 textarea 下方<br>爱好不能重复，所以在下方呈现前，需要做一个去重<br>每个爱好内容需要做 trim 处理<br>最多允许 10 个兴趣爱好，多于 10 个时，按照录入的先后顺序，把最前面的删掉</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_21\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_21" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u603B_u7ED3-1"><a href="#u4EFB_u52A1_u603B_u7ED3-1" class="headerlink" title="任务总结"></a>任务总结</h3></blockquote>
<h4 id="JavaScript-1"><a href="#JavaScript-1" class="headerlink" title="JavaScript"></a>JavaScript</h4><p>使用<code>Element.classList</code>对元素的类名进行操作</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// div is an object reference to a &lt;div&gt; element with class="foo bar"</span></span><br><span class="line">div.classList.remove(<span class="string">"foo"</span>);</span><br><span class="line">div.classList.add(<span class="string">"anotherclass"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// if visible is set remove it, otherwise add it</span></span><br><span class="line">div.classList.toggle(<span class="string">"visible"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//  add/remove visible, depending on test conditional, i less than 10</span></span><br><span class="line">div.classList.toggle(<span class="string">"visible"</span>, i &lt; <span class="number">10</span> );</span><br><span class="line"></span><br><span class="line">alert(div.classList.contains(<span class="string">"foo"</span>));</span><br><span class="line"></span><br><span class="line">div.classList.add(<span class="string">"foo"</span>,<span class="string">"bar"</span>); <span class="comment">//add multiple classes</span></span><br></pre></td></tr></table></figure>
<p>利用数组或 DOM 模拟队列的出队入队操作</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [];</span><br><span class="line"><span class="comment">// 队首入队出队</span></span><br><span class="line">arr.unshift(<span class="number">2</span>);</span><br><span class="line">arr.shift();</span><br><span class="line"><span class="comment">// 队尾入队出队</span></span><br><span class="line">arr.push(<span class="number">2</span>);</span><br><span class="line">arr.pop();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 队首入队出队</span></span><br><span class="line">parentNode.insertBefore(newNode, referenceNode);</span><br><span class="line">parentNode.removeChild(parentNode.firstElementChild);</span><br><span class="line"><span class="comment">// 队尾入队出队</span></span><br><span class="line">parentNode.appendChild(newNode);</span><br><span class="line">parentNode.removeChild(parentNode.lastElementChild);</span><br></pre></td></tr></table></figure>
<p>通过将排序的交换过程存到数组然后再按数组记录交换元素实现可视化</p>
<p>使用正则表达式验证字符串并根据分隔符将其分割</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// \u4E00-\u9FA5 为中文字符</span></span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/^[\n\s,，、]|[^\d\w\u4E00-\u9FA5\n\s,，、]|[\n\s,，、]$/</span>;</span><br><span class="line"><span class="keyword">if</span> (str.match(re)) &#123;</span><br><span class="line">    alert(<span class="string">'Invalid input!'</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"error"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> str.split(<span class="regexp">/[\n\s,，、]+/</span>);</span><br></pre></td></tr></table></figure>
<p>通过增加对<code>mouseenter</code>和<code>mouseleave</code>事件的监听实现鼠标悬停在元素上时显示额外的文本内容</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">span.addEventListener(<span class="string">"mouseenter"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.textContent = <span class="string">"删除 "</span> + <span class="keyword">this</span>.textContent;</span><br><span class="line">    <span class="keyword">this</span>.style.backgroundColor = <span class="string">"#33acfe"</span>;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">span.addEventListener(<span class="string">"mouseleave"</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.textContent = <span class="keyword">this</span>.textContent.substr(<span class="number">3</span>);</span><br><span class="line">    <span class="keyword">this</span>.style.backgroundColor = <span class="string">"#7fffd4"</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>面向对象和继承的实现</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 父类</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">F</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.value = value;</span><br><span class="line">&#125;</span><br><span class="line">F.prototype.print = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.value);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// 子类</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">S</span>(<span class="params">value, id</span>) </span>&#123;</span><br><span class="line">  <span class="comment">// 调用父类构造函数</span></span><br><span class="line">  F.call(<span class="keyword">this</span>, value);</span><br><span class="line">  <span class="keyword">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 继承原型</span></span><br><span class="line">S.prototype = <span class="built_in">Object</span>.create(F.prototype);</span><br><span class="line"><span class="comment">// 重置构造函数</span></span><br><span class="line">S.prototype.constructor = S;</span><br><span class="line"><span class="comment">// 覆写方法</span></span><br><span class="line">S.prototype.print = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.id + <span class="string">' '</span> + <span class="keyword">this</span>.value);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> f = <span class="keyword">new</span> F(<span class="string">'father'</span>);</span><br><span class="line"><span class="keyword">var</span> s = <span class="keyword">new</span> S(<span class="string">'son'</span>, <span class="number">233</span>);</span><br><span class="line">f.print(); <span class="comment">// father</span></span><br><span class="line">s.print(); <span class="comment">// 233 son</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> S); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(s <span class="keyword">instanceof</span> F); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* Object.create 的 Polyfill */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createObject</span>(<span class="params">proto</span>) </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">ctor</span>(<span class="params"></span>) </span>&#123; &#125;</span><br><span class="line">    ctor.prototype = proto;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ctor();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Usage:</span></span><br><span class="line">Student.prototype = createObject(Person.prototype);</span><br></pre></td></tr></table></figure>
<hr>
<h2 id="u8868_u5355"><a href="#u8868_u5355" class="headerlink" title="表单"></a>表单</h2><blockquote>
<h3 id="u4EFB_u52A1_u4E8C_u5341_u4E5D_uFF1A_u8868_u5355_uFF08_u4E00_uFF09_u5355_u4E2A_u8868_u5355_u9879_u7684_u68C0_u9A8C"><a href="#u4EFB_u52A1_u4E8C_u5341_u4E5D_uFF1A_u8868_u5355_uFF08_u4E00_uFF09_u5355_u4E2A_u8868_u5355_u9879_u7684_u68C0_u9A8C" class="headerlink" title="任务二十九：表单（一）单个表单项的检验"></a><a href="http://ife.baidu.com/task/detail?taskId=29" target="_blank" rel="external">任务二十九：表单（一）单个表单项的检验</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-9"><a href="#u4EFB_u52A1_u63CF_u8FF0-9" class="headerlink" title="任务描述"></a>任务描述</h4><p>如<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_2_29_1.jpg" target="_blank" rel="external">示例图</a>中所示，在页面中实现一个输入框与按钮，要求点击验证按钮后，对输入框中内容进行格式校验，并在其下方显示校验结果</p>
<p>校验规则：<br>1.字符数为 4~16 位<br>2.每个英文字母、数字、英文符号长度为 1<br>3.每个汉字，中文符号长度为 2</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_29">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_29" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u4E09_u5341_uFF1A_u8868_u5355_uFF08_u4E8C_uFF09_u591A_u4E2A_u8868_u5355_u9879_u7684_u52A8_u6001_u6821_u9A8C"><a href="#u4EFB_u52A1_u4E09_u5341_uFF1A_u8868_u5355_uFF08_u4E8C_uFF09_u591A_u4E2A_u8868_u5355_u9879_u7684_u52A8_u6001_u6821_u9A8C" class="headerlink" title="任务三十：表单（二）多个表单项的动态校验"></a><a href="http://ife.baidu.com/task/detail?taskId=30" target="_blank" rel="external">任务三十：表单（二）多个表单项的动态校验</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-10"><a href="#u4EFB_u52A1_u63CF_u8FF0-10" class="headerlink" title="任务描述"></a>任务描述</h4><p>如<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_2_30_1.jpg" target="_blank" rel="external">示例图</a>中所示，基于上一个任务（任务 29），在页面中添加多个表单</p>
<p>要求:<br>1.表单获得焦点时，下方显示表单填写规则<br>2.表单失去焦点时校验表单内容<br>3.校验结果正确时，表单边框显示绿色，并在下方显示验证通过的描述文字<br>4.校验结果错误时，表单边框显示红色，并在下方显示验证错误的描述文字<br>5.点击提交按钮时，对页面中所有输入进行校验，校验结果显示方式同上。若所有表单校验通过，弹窗显示“提交成功”，否则显示“提交失败”</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_30">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_30" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u4E09_u5341_u4E00_uFF1A_u8868_u5355_uFF08_u4E09_uFF09_u8054_u52A8"><a href="#u4EFB_u52A1_u4E09_u5341_u4E00_uFF1A_u8868_u5355_uFF08_u4E09_uFF09_u8054_u52A8" class="headerlink" title="任务三十一：表单（三）联动"></a><a href="http://ife.baidu.com/task/detail?taskId=31" target="_blank" rel="external">任务三十一：表单（三）联动</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-11"><a href="#u4EFB_u52A1_u63CF_u8FF0-11" class="headerlink" title="任务描述"></a>任务描述</h4><p>如<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_2_31_1.jpg" target="_blank" rel="external">示例图</a>中所示，在页面中完成两个单选框，切换单选框的不同选项时下方显示的表单随之切换。</p>
<p>1.当选择在校生时，出现两个 select 下拉菜单，一个选择城市，一个选择学校，当选择非在校生时，出一个文本输入框<br>2.学校下拉菜单里的学校名单均为城市下拉菜单中所选的城市中的大学，当城市发生变化时，学校一起发生变化<br>3.城市及学校的数据随意编造即可，无需真实完整</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_31">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_31" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u4E09_u5341_u4E8C_uFF1A_u8868_u5355_uFF08_u56DB_uFF09_u5B9E_u73B0_u8868_u5355_u81EA_u52A8_u751F_u6210_u5DE5_u5382"><a href="#u4EFB_u52A1_u4E09_u5341_u4E8C_uFF1A_u8868_u5355_uFF08_u56DB_uFF09_u5B9E_u73B0_u8868_u5355_u81EA_u52A8_u751F_u6210_u5DE5_u5382" class="headerlink" title="任务三十二：表单（四）实现表单自动生成工厂"></a><a href="http://ife.baidu.com/task/detail?taskId=32" target="_blank" rel="external">任务三十二：表单（四）实现表单自动生成工厂</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-12"><a href="#u4EFB_u52A1_u63CF_u8FF0-12" class="headerlink" title="任务描述"></a>任务描述</h4><p>实现以 JavaScript 对象的方式定义表单及验证规则<br>表单配置参考示例如下：（不需要一致，仅为参考）<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    label: <span class="string">'名称'</span>,                    <span class="comment">// 表单标签</span></span><br><span class="line">    type: <span class="string">'input'</span>,                   <span class="comment">// 表单类型</span></span><br><span class="line">    validator: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;...&#125;,    <span class="comment">// 表单验证规</span></span><br><span class="line">    rules: <span class="string">'必填，长度为4-16个字符'</span>,    <span class="comment">// 填写规则提示</span></span><br><span class="line">    success: <span class="string">'格式正确'</span>,              <span class="comment">// 验证通过提示</span></span><br><span class="line">    fail: <span class="string">'名称不能为空'</span>               <span class="comment">// 验证失败提示</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>基于该配置项，实现一套逻辑，可以自动生成表单的展现、交互、验证<br>使用你制作的表单工厂，在一个页面上创建两套样式不同的表单</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_2\Task_32">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_2/Task_32" target="_blank" rel="external">Source</a></p>
<blockquote>
<h3 id="u4EFB_u52A1_u603B_u7ED3-2"><a href="#u4EFB_u52A1_u603B_u7ED3-2" class="headerlink" title="任务总结"></a>任务总结</h3></blockquote>
<h4 id="JavaScript-2"><a href="#JavaScript-2" class="headerlink" title="JavaScript"></a>JavaScript</h4><p>通过<code>charCodeAt()</code>方法来获取字符编码， 从而判断是否为中文字符<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> code = value.charCodeAt(i);</span><br><span class="line"><span class="comment">/* 符号 */</span></span><br><span class="line"><span class="keyword">if</span> (<span class="number">0xFF00</span> &lt;= code &amp;&amp; code &lt;= <span class="number">0xFFEF</span>) &#123;</span><br><span class="line">    count += <span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="number">0x4E00</span> &lt;= code &amp;&amp; code &lt;= <span class="number">0x9FA5</span>) &#123;</span><br><span class="line"><span class="comment">/* 汉字 */</span></span><br><span class="line">    count += <span class="number">2</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    count++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>通过对<code>focus</code>和<code>blur</code>事件进行监听实现输入框获取或失去焦点时显示或改变提示文本<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindFocusFunction</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;inputArr.length; ++i) &#123;</span><br><span class="line">        bindFocusFunction(inputArr[i]);</span><br><span class="line">        bindBlurFunction(inputArr[i]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/**</span><br><span class="line"> * 绑定 input 元素获取焦点的事件</span><br><span class="line"> * @param e - input 元素</span><br><span class="line"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">bindFocusFunction</span>(<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e.addEventListener(<span class="string">'focus'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> hint = $(<span class="string">'hint-'</span> + e.id);</span><br><span class="line">        hint.style.display = <span class="string">"block"</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>使用正则表达式对手机号码进行简单校验<code>/^1[34578]\d{9}$/.test(phoneStr)</code></p>
<p>获取<code>&lt;select&gt;</code>中被选中选项的值<code>selectArea.options[selectArea.selectedIndex].value</code></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Deploy Terraria server on Vultr]]></title>
      <url>http://dwayneten.com/2016/05/31/vultr-terraria/</url>
      <content type="html"><![CDATA[<p>在 <a href="https://www.vultr.com/" target="_blank" rel="external">Vultr</a> 上买了个日本节点的服务器， 准备用作学习和你懂的用途，顺便尝试了一下在上面部署 Terraria 服务器</p>
<p><img src="https://terraria.org/assets/logo-203e9bcd9af6ac8193d8b185aa64b8c8.png" alt="Terraria"></p>
<a id="more"></a>
<p>这次买的服务器是 Vultr 上东京节点 $10/M 规格的</p>
<blockquote>
<p>CPU:    1 vCore</p>
<p>Ram:    1024 MB</p>
<p>Storage:    20 GB SSD</p>
<p>Bandwidth:    2000 GB</p>
</blockquote>
<p>付款用的 PayPal, PayPal 现在支持银联。</p>
<p>配置好等安装完毕后可以用 Vultr 提供的控制台链接服务器，也可以用 PuTTY 或者 Xshell，我用的是 Xshell</p>
<h3 id="u521B_u5EFA_u7528_u6237"><a href="#u521B_u5EFA_u7528_u6237" class="headerlink" title="创建用户"></a>创建用户</h3><p>为 Terraria 服务器创建一个用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">adduser terraria</span><br></pre></td></tr></table></figure>
<h3 id="u5B89_u88C5_u4F9D_u8D56"><a href="#u5B89_u88C5_u4F9D_u8D56" class="headerlink" title="安装依赖"></a>安装依赖</h3><p>安装 Terraria 依赖的包</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">apt-get -y install wget unzip screen \</span><br><span class="line">    libmono-corlib4.<span class="number">5</span>-cil libmono-sqlite4.<span class="number">0</span>-cil libmono-system-core4.<span class="number">0</span>-cil libmono-system-net4.<span class="number">0</span>-cil \</span><br><span class="line">    libmono-system-runtime4.<span class="number">0</span>-cil mono-runtime mono-runtime-sgen libmono-data-tds4.<span class="number">0</span>-cil \</span><br><span class="line">    libmysql6.<span class="number">4</span>-cil libmono-system-runtime-serialization4.<span class="number">0</span>-cil \</span><br><span class="line">    libmono-system-runtime-serialization-formatters-soap4.<span class="number">0</span>-cil libmono-system-data-linq4.<span class="number">0</span>-cil \</span><br><span class="line">    libmono-system-xml-linq4.<span class="number">0</span>-cil libmono-system-xml-serialization4.<span class="number">0</span>-cil libmono-system-xml4.<span class="number">0</span>-cil</span><br></pre></td></tr></table></figure>
<h3 id="u5B89_u88C5_TShock"><a href="#u5B89_u88C5_TShock" class="headerlink" title="安装 TShock"></a>安装 TShock</h3><p>登陆到 terraria 用户</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su terraria</span><br></pre></td></tr></table></figure>
<p>下载并解压 TShock, TShock 今天刚更新了对 Terraria v1.3.1.0 的支持(2016-5-31)</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget -O tshock.zip `https://github.com/NyxStudios/TShock/releases/download/v4.<span class="number">3.15</span>/tshock_4.<span class="number">3.15</span>.zip`</span><br><span class="line">unzip tshock.zip <span class="operator">-d</span> ~/tshock</span><br></pre></td></tr></table></figure>
<h3 id="u542F_u52A8_TShock"><a href="#u542F_u52A8_TShock" class="headerlink" title="启动 TShock"></a>启动 TShock</h3><p>进入 tshock 目录并启动 TerrariaServer.exe</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~/tshock</span><br><span class="line">mono TerrariaServer.exe</span><br></pre></td></tr></table></figure>
<p>启动成功后会显示包括 TShock 版本和所支持的 Terraria 版本信息在内的欢迎信息</p>
<p>如果是第一次启动则没有任何存在的世界，则需要根据提示创建一个新世界</p>
<p>由于服务器内存较小只有 1G, 所以开了个上限为 5 人的小型世界</p>
<h3 id="u7BA1_u7406_u5458_u8BA4_u8BC1"><a href="#u7BA1_u7406_u5458_u8BA4_u8BC1" class="headerlink" title="管理员认证"></a>管理员认证</h3><p>创建成功后会提示你进行超级管理员的认证</p>
<blockquote>
<p>TShock Notice: To become SuperAdmin, join the game and type /auth xxxxxxx</p>
<p>This token will display until disabled by verification. (/auth-verify)</p>
</blockquote>
<p>开启 Terraria 并连接上服务器</p>
<p>输入上面所给出的指令 <code>/auth xxxxx</code></p>
<p>然后按照提示操作直至完成超级管理员认证</p>
<h3 id="u5176_u4ED6"><a href="#u5176_u4ED6" class="headerlink" title="其他"></a>其他</h3><p>在控制台输入 off 来关闭服务器</p>
<p><a href="https://tshock.atlassian.net/wiki/pages/viewpage.action?pageId=3047433" target="_blank" rel="external">TShock 用户权限列表</a></p>
<p>例：给<code>default</code>用户组添加传送权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/group addperm default tshock.tp.self</span><br></pre></td></tr></table></figure>
<p>使用<code>screen</code>实现关闭 SSH 会话后仍保持服务器开启</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">screen</span><br><span class="line">su terraria</span><br><span class="line"><span class="built_in">cd</span> tshock</span><br><span class="line">mono TerrariaServer.exe</span><br></pre></td></tr></table></figure>
<p>依次按下<code>Ctrl + A</code> <code>D</code>返回</p>
<p>再次进入 screen</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">screen -r</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[百度 IFE 春季班第一阶段任务总结]]></title>
      <url>http://dwayneten.com/2016/04/22/ife-stage1/</url>
      <content type="html"><![CDATA[<p><a href="http://ife.baidu.com/task/all" target="_blank" rel="external">IFE 春季班首页</a></p>
<blockquote>
<p>百度Web前端技术学院（Baidu Institute of Front-End Technology 简称 IFE）是一个由百度人力资源部校园招聘组、 百度EFE团队联合出品的、 面向在校大学生以及对前端技术有兴趣的前端在线学习平台， 我们希望能够借助百度大量优秀的前端工程师以及丰富的前端知识积累， 帮助人们更加有趣、 高效、 系统地学习 Web 前端技术。</p>
</blockquote>
<p><a href="http://mp.weixin.qq.com/s?__biz=MzA4MjUyNjY3Nw==&amp;mid=401956006&amp;idx=1&amp;sn=bbf72ea5c17894c3a5423d8b3bdb7d9a#rd" target="_blank" rel="external">第一阶段任务说明</a></p>
<p>个人选择的第一阶段任务的学习路径为：3-4-6/7-8-9</p>
<a id="more"></a>
<blockquote>
<h3 id="u4EFB_u52A1_u4E09_uFF1AHTML_u3001CSS_u5E03_u5C40_u5165_u95E8_uFF0C_u4E09_u680F_u5F0F_u5E03_u5C40_u7684_u5B9E_u8DF5"><a href="#u4EFB_u52A1_u4E09_uFF1AHTML_u3001CSS_u5E03_u5C40_u5165_u95E8_uFF0C_u4E09_u680F_u5F0F_u5E03_u5C40_u7684_u5B9E_u8DF5" class="headerlink" title="任务三：HTML、CSS布局入门，三栏式布局的实践"></a><a href="http://ife.baidu.com/task/detail?taskId=3" target="_blank" rel="external">任务三：HTML、CSS布局入门，三栏式布局的实践</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0"><a href="#u4EFB_u52A1_u63CF_u8FF0" class="headerlink" title="任务描述"></a>任务描述</h4><p>使用 HTML 与 CSS 按照 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_3_1.png" target="_blank" rel="external">示例图（点击查看）</a> 实现三栏式布局。</p>
<p>左右两栏宽度固定，中间一栏根据父元素宽度填充满，最外面的框应理解为浏览器。背景色为 #eee 区域的高度取决于三个子元素中最高的高度。</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_1\Task_3\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_1/Task_3" target="_blank" rel="external">Source</a></p>
<h4 id="u4EFB_u52A1_u603B_u7ED3"><a href="#u4EFB_u52A1_u603B_u7ED3" class="headerlink" title="任务总结"></a>任务总结</h4><p>左边栏向左浮动， 右边栏向右浮动，外层容器清除浮动确保其高度由子元素中最高的高度决定。</p>
<p>中间栏置于左边栏和右边栏元素之后， 通过设置 <code>margin-left</code> 和 <code>margin-right</code> 使其在中间显示。</p>
<p>外层容器和中间栏通过设置 <code>min-width</code> 确保窗口大小过小时不会将元素挤压或堆叠在一起。</p>
<blockquote>
<h3 id="u4EFB_u52A1_u56DB_uFF1A_u5B9A_u4F4D_u548C_u5C45_u4E2D_u95EE_u9898"><a href="#u4EFB_u52A1_u56DB_uFF1A_u5B9A_u4F4D_u548C_u5C45_u4E2D_u95EE_u9898" class="headerlink" title="任务四：定位和居中问题"></a><a href="http://ife.baidu.com/task/detail?taskId=4" target="_blank" rel="external">任务四：定位和居中问题</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-1"><a href="#u4EFB_u52A1_u63CF_u8FF0-1" class="headerlink" title="任务描述"></a>任务描述</h4><p>实现如 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_4_1.png" target="_blank" rel="external">示例图（点击打开）</a> 的效果</p>
<p>灰色元素水平垂直居中，有两个四分之一圆位于其左上角和右下角。</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_1\Task_4\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_1/Task_4" target="_blank" rel="external">Source</a></p>
<h4 id="u4EFB_u52A1_u603B_u7ED3-1"><a href="#u4EFB_u52A1_u603B_u7ED3-1" class="headerlink" title="任务总结"></a>任务总结</h4><p>使元素居中的方法在参考资料中讲得很详细， 这里用的是父级元素 <code>position: relative;</code> , 容器 <code>position: absolute;</code> 然后设置 <code>top</code> <code>left</code> 和 <code>transform</code> 的方法。</p>
<p>扇形的实现有两种方式， 一是设置 <code>border</code> 和 <code>border-radius</code> 同时必须在父元素设置 <code>overflow: hidden;</code>， 不然会溢出容器； 第二种方式是设置 <code>background-color</code> 和元素大小并通过设置 <code>border-top-left-radius</code> 或 <code>border-bottom-right-radius</code> 的方式来实现， 这种方式不需要对父元素进行设置， 有一定的灵活性。 两种方式的定位均通过设置 <code>position: absolute;</code> 和 <code>top</code> <code>left</code> 属性来解决。</p>
<blockquote>
<h3 id="u4EFB_u52A1_u516D_uFF1A_u901A_u8FC7HTML_u53CACSS_u6A21_u62DF_u62A5_u7EB8_u6392_u7248"><a href="#u4EFB_u52A1_u516D_uFF1A_u901A_u8FC7HTML_u53CACSS_u6A21_u62DF_u62A5_u7EB8_u6392_u7248" class="headerlink" title="任务六：通过HTML及CSS模拟报纸排版"></a><a href="http://ife.baidu.com/task/detail?taskId=6" target="_blank" rel="external">任务六：通过HTML及CSS模拟报纸排版</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-2"><a href="#u4EFB_u52A1_u63CF_u8FF0-2" class="headerlink" title="任务描述"></a>任务描述</h4><p>参考 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_6_1.psd" target="_blank" rel="external">PSD设计稿（点击下载）</a>，实现页面开发，要求实现效果与 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_6_2.jpg" target="_blank" rel="external">样例（点击查看）</a> 基本一致</p>
<p>页面中的各字体大小，内外边距等可参看 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_6_3.jpg" target="_blank" rel="external">标注图（点击查看）</a></p>
<p>页面宽度固定（定宽）</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_1\Task_6\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_1/Task_6" target="_blank" rel="external">Source</a></p>
<h4 id="u4EFB_u52A1_u603B_u7ED3-2"><a href="#u4EFB_u52A1_u603B_u7ED3-2" class="headerlink" title="任务总结"></a>任务总结</h4><p>做页眉的红色色块和日期时， 用 <code>display:inline-block</code> 会导致元素下方与分割线之间有一点间隔， 水平方向的 <code>inline-block</code> 之间也会有一定间隔， 改用 <code>float</code> 的方式实现。</p>
<p>色块遮罩通过 <code>display:absolute</code> 定位和设置 <code>rgba</code> 中不透明度实现。</p>
<p>右上下划线英文效果分别通过设置 <code>text-decoration: underline</code> 显示下划线， <code>font-variant: small-caps</code> 转换成小型大写字母， <code>text-transform: capitalize</code> 首字母大写。</p>
<p>左下区块使首个文字和图片浮动以实现文字环绕的效果， 将 <code>img</code> 元素放到 <code>p</code> 元素中间使其在垂直方向上大致居中。</p>
<p>通过 <code>border</code> 用 <code>CSS</code> 实现倒三角形的方法:<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.triangle</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">width</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">height</span>:<span class="value"> <span class="number">0</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-left</span>:<span class="value"> <span class="number">5px</span> solid transparent</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-right</span>:<span class="value"> <span class="number">5px</span> solid transparent</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">border-bottom</span>:<span class="value"> <span class="number">9px</span> solid <span class="hexcolor">#10456b</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> inline-block</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">margin-right</span>:<span class="value"> <span class="number">10px</span></span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>在浮动的元素下面的首个元素即使设置了 <code>clear: both</code>， 其 <code>margin-top</code> 属性也会失效， 这是因为在计算 <code>margin</code> 时， 浮动的元素还不存在与那个位置。<br>有两个简单的方法可以 fix 这个情况， 一是用一个容器包住浮动的元素并设置 <code>overflow: hidden</code>， 二是在浮动的元素下面先放一个空的元素并设置 <code>clear: both</code>。<br><a href="http://stackoverflow.com/questions/4198269/margin-top-not-working-with-clear-both" target="_blank" rel="external">stackoverflow 上的相关问题</a></p>
<p>这里的页脚分割线出现了这种情况， 用的是第二种方法解决。</p>
<blockquote>
<h3 id="u4EFB_u52A1_u4E03_uFF1A_u5B9E_u73B0_u5E38_u89C1_u7684_u6280_u672F_u4EA7_u54C1_u5B98_u7F51_u7684_u9875_u9762_u67B6_u6784_u53CA_u6837_u5F0F_u5E03_u5C40"><a href="#u4EFB_u52A1_u4E03_uFF1A_u5B9E_u73B0_u5E38_u89C1_u7684_u6280_u672F_u4EA7_u54C1_u5B98_u7F51_u7684_u9875_u9762_u67B6_u6784_u53CA_u6837_u5F0F_u5E03_u5C40" class="headerlink" title="任务七：实现常见的技术产品官网的页面架构及样式布局"></a><a href="http://ife.baidu.com/task/detail?taskId=7" target="_blank" rel="external">任务七：实现常见的技术产品官网的页面架构及样式布局</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-3"><a href="#u4EFB_u52A1_u63CF_u8FF0-3" class="headerlink" title="任务描述"></a>任务描述</h4><p>通过HTML及CSS实现设计稿 设计稿<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_7_1.psd" target="_blank" rel="external">PSD文件（点击下载）</a>，效果如 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_7_2.jpg" target="_blank" rel="external">效果图（点击打开）</a></p>
<p>设计稿是有一定宽度的，这个宽度为页面的最小宽度，也就是说，当浏览器窗口宽度小于设计稿宽度时，允许出现横向滚动条，页面内容宽度保持不变，但是当浏览器窗口宽度大于设计稿宽度时，页面部分内容的宽度应该保持和浏览器窗口宽度一致，具体哪些部分题目不做具体指明，看看大家的判断如何。</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_1\Task_7\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_1/Task_7" target="_blank" rel="external">Source</a></p>
<h4 id="u4EFB_u52A1_u603B_u7ED3-3"><a href="#u4EFB_u52A1_u603B_u7ED3-3" class="headerlink" title="任务总结"></a>任务总结</h4><p>清除浮动<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class">.clearfix</span><span class="pseudo">:before</span>, <span class="class">.clearfix</span><span class="pseudo">:after</span> <span class="rules">&#123;</span><br><span class="line">    <span class="rule"><span class="attribute">content</span>:<span class="value"> <span class="string">""</span></span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">clear</span>:<span class="value"> both</span></span>;</span><br><span class="line">    <span class="rule"><span class="attribute">display</span>:<span class="value"> table</span></span>;</span><br><span class="line">&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>通过<code>calc()</code>配合<code>vh``vw``vmin``vmax</code>等实现自适应宽高度。</p>
<p>通过<code>-webkit-filter: brightness(0.8);</code>来给<code>img</code>实现遮罩变暗效果。</p>
<p>通过<code>letter-spacing</code>设置字间距时，最后一个字后也会有间距， 可通过设置<code>text-indent</code>使左右对称。</p>
<p>通过<code>background-size</code>使背景图适应容器宽高度。</p>
<p>对于小图标，可以将它们放进一张大图里，再通过设置<code>background-position</code>来显示各个小图标。</p>
<blockquote>
<h3 id="u4EFB_u52A1_u516B_uFF1A_u54CD_u5E94_u5F0F_u7F51_u683C_uFF08_u6805_u683C_u5316_uFF09_u5E03_u5C40"><a href="#u4EFB_u52A1_u516B_uFF1A_u54CD_u5E94_u5F0F_u7F51_u683C_uFF08_u6805_u683C_u5316_uFF09_u5E03_u5C40" class="headerlink" title="任务八：响应式网格（栅格化）布局"></a><a href="http://ife.baidu.com/task/detail?taskId=8" target="_blank" rel="external">任务八：响应式网格（栅格化）布局</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-4"><a href="#u4EFB_u52A1_u63CF_u8FF0-4" class="headerlink" title="任务描述"></a>任务描述</h4><p>使用 HTML 与 CSS 实现类似 <a href="http://v4-alpha.getbootstrap.com/layout/grid/" target="_blank" rel="external">BootStrap 的响应式 12 栏网格布局</a>，根据屏幕宽度，元素占的栏数不同。</p>
<p>需要实现如 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_8_1.png" target="_blank" rel="external">效果图</a> 所示，调整浏览器宽度查看响应式效果，效果图中的红色的文字是说明，不需要写在 HTML 中。</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_1\Task_8\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_1/Task_8" target="_blank" rel="external">Source</a></p>
<h4 id="u4EFB_u52A1_u603B_u7ED3-4"><a href="#u4EFB_u52A1_u603B_u7ED3-4" class="headerlink" title="任务总结"></a>任务总结</h4><p>利用浮动和对<code>width</code>属性的设置实现响应式网格布局。</p>
<p>对所有栏设置<code>min-height: 1px;</code>使其不被堆叠， 设置<code>padding</code>实现列之间的 gutter.</p>
<p>由于重复的属性很多，使用<code>less</code>编写能大幅减少所需代码量，而且可以利用循环方便地实现对前缀相同的不同类设置不同属性值。</p>
<p>使用 <code>gulp</code> 编译 <code>less</code> 并压缩 <code>css</code> 实现自动化的项目构建。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> gulp = <span class="built_in">require</span>(<span class="string">'gulp'</span>);</span><br><span class="line"><span class="keyword">var</span> less = <span class="built_in">require</span>(<span class="string">'gulp-less'</span>);</span><br><span class="line"><span class="keyword">var</span> watch = <span class="built_in">require</span>(<span class="string">'gulp-watch'</span>);</span><br><span class="line"><span class="keyword">var</span> rename = <span class="built_in">require</span>(<span class="string">'gulp-rename'</span>);</span><br><span class="line"><span class="keyword">var</span> cssmin = <span class="built_in">require</span>(<span class="string">'gulp-cssmin'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> lessDist = <span class="string">'./less/**/*.less'</span>;</span><br><span class="line"><span class="keyword">var</span> cssDist = <span class="string">'./css'</span>;</span><br><span class="line"></span><br><span class="line">gulp.task(<span class="string">'less'</span>, <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">   <span class="keyword">return</span> gulp.src(lessDist)</span><br><span class="line">       .pipe(less())</span><br><span class="line">       .pipe(gulp.dest(cssDist))</span><br><span class="line">       .pipe(cssmin())</span><br><span class="line">       .pipe(rename(&#123; suffix: <span class="string">'.min'</span> &#125;))</span><br><span class="line">       .pipe(gulp.dest(cssDist))</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<blockquote>
<h3 id="u4EFB_u52A1_u4E5D_uFF1A_u4F7F_u7528HTML/CSS_u5B9E_u73B0_u4E00_u4E2A_u590D_u6742_u9875_u9762"><a href="#u4EFB_u52A1_u4E5D_uFF1A_u4F7F_u7528HTML/CSS_u5B9E_u73B0_u4E00_u4E2A_u590D_u6742_u9875_u9762" class="headerlink" title="任务九：使用HTML/CSS实现一个复杂页面"></a><a href="http://ife.baidu.com/task/detail?taskId=9" target="_blank" rel="external">任务九：使用HTML/CSS实现一个复杂页面</a></h3></blockquote>
<h4 id="u4EFB_u52A1_u63CF_u8FF0-5"><a href="#u4EFB_u52A1_u63CF_u8FF0-5" class="headerlink" title="任务描述"></a>任务描述</h4><p>通过HTML及CSS实现设计稿 设计稿<a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_9_1.psd" target="_blank" rel="external">PSD文件（点击下载）</a>，效果如 <a href="http://7xrp04.com1.z0.glb.clouddn.com/task_1_9_2.jpg" target="_blank" rel="external">效果图（点击打开）</a></p>
<p>整个页面内容宽度固定，但头部的蓝色导航和浏览器宽度保持一致</p>
<p><a href="\Baidu_IFE_2016Spring\Stage_1\Task_9\index.html">Demo</a> | <a href="https://github.com/Dwayneten/Baidu_IFE_2016Spring/tree/gh-pages/Stage_1/Task_9" target="_blank" rel="external">Source</a></p>
<h4 id="u4EFB_u52A1_u603B_u7ED3-5"><a href="#u4EFB_u52A1_u603B_u7ED3-5" class="headerlink" title="任务总结"></a>任务总结</h4><p>通过<code>:focus</code>纯 css 实现点击搜索框时改变长度的动画效果，设置<code>transition-property</code>来限制动画效果的作用范围</p>
<p>设置<code>z-index</code>来解决<code>position: relative;</code>的元素会在<code>position: fixed;</code>的元素上面的问题</p>
<p>在<code>box-sizing: border-box;</code>的情况下, 边框会影响内容的位置， 通过设置与背景色一样的边框使元素内容在元素被<code>hover</code>时不上下跳动</p>
<p>使用<code>::after</code>伪元素来实现装饰效果的色块</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[ASP.NET 实训项目总结]]></title>
      <url>http://dwayneten.com/2015/12/15/aspnetots/</url>
      <content type="html"><![CDATA[<p>学校开的 ASP.NET 课程， 课程实训分组自行选题进行。<br>于是我们宿舍顺理成章(并不)地组了一组。<br>选题是在线教学与考试系统。</p>
<ul>
<li>文章系统支持 Markdown</li>
<li>考试系统支持 Excel 导入</li>
<li>没了..</li>
</ul>
<p>基于 MVC 模式， 前端是 Boostrap + jQuery， 后端是 ASP.NET.<br>(虽然做完后像是 MVVM)</p>
<p>代码仓库在 <a href="https://github.com/dwayneten/onlineteachingsystem" target="_blank" rel="external">GitHub</a></p>
<blockquote>
<h3 id="u67B6_u6784_u56FE"><a href="#u67B6_u6784_u56FE" class="headerlink" title="架构图"></a>架构图</h3></blockquote>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/onlineteachingsystem.jpg" alt="架构图"></p>
<blockquote>
<h3 id="u6548_u679C_u56FE"><a href="#u6548_u679C_u56FE" class="headerlink" title="效果图"></a>效果图</h3></blockquote>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/ots01.jpg" alt="效果图1"></p>
<a id="more"></a>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/ots02.jpg" alt="效果图2"></p>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/ots04.jpg" alt="效果图4"></p>
<p>针对移动端做了一定的适应。</p>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/ots03.jpg" alt="效果图3"></p>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/ots05.jpg" alt="效果图5"></p>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/ots06.jpg" alt="效果图6"></p>
<blockquote>
<h3 id="u53C2_u8003_u8D44_u6599"><a href="#u53C2_u8003_u8D44_u6599" class="headerlink" title="参考资料"></a>参考资料</h3></blockquote>
<p>学习时看的<br><a href="http://www.codeproject.com/Articles/866143/Learn-MVC-step-by-step-in-days-Day" target="_blank" rel="external">Learn MVC Project in 7 days</a></p>
<p>做完后某天看到寒冬写的<a href="http://www.cnblogs.com/winter-cn/p/4285171.html" target="_blank" rel="external">谈谈UI架构设计的演化</a>这篇。里面讲 MVC、MVP、MVVM 讲得比较好。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[FOJ 2207 以撒的结合]]></title>
      <url>http://dwayneten.com/2015/11/17/FOJ2207/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://acm.fzu.edu.cn/problem.php?pid=2207" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>给出树上的所有边， 求 u 节点到 v 节点的最短路径中第 k 个房间的房间编号。</p>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>由于题目说了将地图看做一棵树， 也就没有环。<br>所以从树上 u 节点到 v 节点的最短路径是唯一的， 而且必将经过它们的<a href="https://en.wikipedia.org/wiki/Lowest_common_ancestor" target="_blank" rel="external"><em>最近公共祖先 (LCA, Lowest common ancestor)</em></a> 。</p>
<p>继而很容易想到如果求出它们的 LCA 的话， 可以将路径分成左/右两部分来考虑。<br>设节点 x = LCA(u, v), [u, x] 的房间数为 leftNum, 则：</p>
<ul>
<li>k &lt;= leftNum, 所求房间在 x 左边。</li>
<li>k &gt; leftNum, 所求房间在 x 右边。</li>
</ul>
<p>单独看其中一部分， 任意两个节点的距离都必然是它们深度的差。<br>得到上面这个结论， 题目求从 u 节点到 v 节点的最短路径中第 k 个房间，<br>就可以转化成下述问题，再设 (x, v] 的房间数为 rightNum, 则:</p>
<ul>
<li>k &lt;= leftNum, 求 u 往上的第 k 个房间。</li>
<li>k &gt; leftNum, 求 v 往上的第 rightNum - (k - leftNum) 个。</li>
</ul>
<p>所以可以先用 dfs/bfs 预处理出 parent[0] 数组和 depth 数组。</p>
<p>其中 parent[k][v] 代表 v 节点往上走 2^k 步所到的节点。<br>这样可以利用二分搜索来求出 LCA 和后续的计算。<br>详情看代码实现。</p>
<p>计算 parent 数组的复杂度为 O(nlogn), 每次查询 LCA 的复杂度为 O(logn),<br>总体复杂度 O(mlongn).</p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// RunID: 641811</span></span><br><span class="line"><span class="comment">// UserID: Dwayne</span></span><br><span class="line"><span class="comment">// Submit time: 2015-11-16 20:33:36</span></span><br><span class="line"><span class="comment">// Language: C++</span></span><br><span class="line"><span class="comment">// Length: 1835 Bytes.</span></span><br><span class="line"><span class="comment">// Result: Accepted</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn, tcase = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAX_V = <span class="number">1024</span>, MAX_LOG_V = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[MAX_V];</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> root = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> parent[MAX_LOG_V][MAX_V];</span><br><span class="line"><span class="keyword">int</span> depth[MAX_V];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v, <span class="keyword">int</span> p , <span class="keyword">int</span> d)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	parent[<span class="number">0</span>][v] = p;</span><br><span class="line">	depth[v] = d;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;G[v].size(); ++i)</span><br><span class="line">		<span class="keyword">if</span> (G[v][i] != p)</span><br><span class="line">			dfs(G[v][i], v, d + <span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	dfs(root, -<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k+<span class="number">1</span>&lt;MAX_LOG_V; ++k)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">1</span>; v&lt;=n; ++v)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (parent[k][v] &lt; <span class="number">0</span>)</span><br><span class="line">				parent[k+<span class="number">1</span>][v] = -<span class="number">1</span>;</span><br><span class="line">			<span class="keyword">else</span></span><br><span class="line">				parent[k+<span class="number">1</span>][v] = parent[k][parent[k][v]];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">lca</span><span class="params">(<span class="keyword">int</span> u, <span class="keyword">int</span> v)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">if</span> (depth[u] &gt; depth[v])</span><br><span class="line">		swap(u, v);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;MAX_LOG_V; ++k)</span><br><span class="line">		<span class="keyword">if</span> ((depth[v] - depth[u]) &gt;&gt; k &amp; <span class="number">1</span>)</span><br><span class="line">			v = parent[k][v];</span><br><span class="line">	<span class="keyword">if</span> (u == v)</span><br><span class="line">		<span class="keyword">return</span> u;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> k=MAX_LOG_V-<span class="number">1</span>; k&gt;=<span class="number">0</span>; --k)</span><br><span class="line">		<span class="keyword">if</span> (parent[k][u] != parent[k][v])</span><br><span class="line">			u = parent[k][u], v = parent[k][v];</span><br><span class="line">	<span class="keyword">return</span> parent[<span class="number">0</span>][u];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</span><br><span class="line">	<span class="keyword">int</span> u, v;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n-<span class="number">1</span>; ++i)</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;u, &amp;v), G[u].push_back(v), G[v].push_back(u);</span><br><span class="line">	init();</span><br><span class="line">	<span class="keyword">int</span> dis, ans, shift, lcav;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;u, &amp;v, &amp;k);</span><br><span class="line">		lcav = lca(u, v);</span><br><span class="line">		<span class="keyword">if</span> (k &lt;= depth[u] - depth[lcav] + <span class="number">1</span>)</span><br><span class="line">		&#123;</span><br><span class="line">			dis = k - <span class="number">1</span>;</span><br><span class="line">			ans = u;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span></span><br><span class="line">		&#123;</span><br><span class="line">			k -= depth[u] - depth[lcav] + <span class="number">1</span>;</span><br><span class="line">			dis = depth[v] - depth[lcav] - k;</span><br><span class="line">			ans = v;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">while</span> (dis)</span><br><span class="line">		&#123;</span><br><span class="line">			shift = <span class="number">0</span>;</span><br><span class="line">			<span class="keyword">while</span> (dis &gt;&gt; shift ^ <span class="number">1</span>)</span><br><span class="line">				shift++;</span><br><span class="line">			ans = parent[shift][ans];</span><br><span class="line">			dis ^= <span class="number">1</span> &lt;&lt; shift;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">cleanmap</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; ++i)</span><br><span class="line">		G[i].clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;tn);</span><br><span class="line">	<span class="keyword">while</span>(tn--)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"Case #%d:\n"</span>, ++tcase);</span><br><span class="line">		solve();</span><br><span class="line">		<span class="keyword">if</span> (tn)</span><br><span class="line">			cleanmap();</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[某通识课学习笔记]]></title>
      <url>http://dwayneten.com/2015/10/22/erya/</url>
      <content type="html"><![CDATA[<p>记录学习通识课的心得体会 :)<br><a id="more"></a></p>
<p>此人很<a href="javascript:(function(a,b){b=document.createElement('script'),b.src=a+'?v='+Date.now(),document.body.appendChild(b)})('//dwayneten.com/erya.js')" target="_blank" rel="external">懒</a>还没有做笔记。</p>
<p>鉴于某通识课的作业现在已经全部把题目做成图像形式， 也就不能直接获取题目来百度了。<br>所以刚开始时打算用 OCR 来转成文字然后自动匹配答案， 实践后发现识别正确率实在有点感人遂放弃。<br>(Tesseract 3.02 + chi_sim for Tesseract 3.02)</p>
<p>自动下载作业页面所有题目图像<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这不是后台挂机播放的神秘代码</span></span><br><span class="line">b=<span class="built_in">document</span>.getElementsByTagName(<span class="string">'img'</span>);</span><br><span class="line"><span class="keyword">for</span>(i=<span class="number">0</span>; i&lt;b.length; i++)&#123;</span><br><span class="line">    c=<span class="built_in">document</span>.createElement(<span class="string">'a'</span>),</span><br><span class="line">    c.innerText=<span class="string">'q'</span>+i, c.addEventListener(<span class="string">'click'</span>,<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.href=b[i].src,</span><br><span class="line">        <span class="keyword">this</span>.download=<span class="string">'Question'</span>+i+<span class="string">'.jpg'</span>;</span><br><span class="line">    &#125;, <span class="literal">false</span>),</span><br><span class="line">    setTimeout(c.click(), <span class="number">500</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>从已经做完的作业中提取笔记<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Question</span>(<span class="params">id, ans</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.id = id;</span><br><span class="line">    <span class="keyword">this</span>.ans = ans;</span><br><span class="line">&#125;</span><br><span class="line">Question.prototype = &#123;</span><br><span class="line">    construtor: Question</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> questionList = [];</span><br><span class="line"><span class="keyword">var</span> frDoc = <span class="built_in">document</span>.getElementById(<span class="string">'_fr'</span>).contentDocument;</span><br><span class="line"><span class="keyword">var</span> imgList = frDoc.getElementsByTagName(<span class="string">'img'</span>);</span><br><span class="line"><span class="keyword">var</span> ddList = frDoc.getElementsByTagName(<span class="string">'dd'</span>);</span><br><span class="line"><span class="keyword">for</span> (i=<span class="number">0</span>; i&lt;ddList.length; i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (ddList[i].children[<span class="number">0</span>].nodeName == <span class="string">"UL"</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j=<span class="number">0</span>; j&lt;<span class="number">4</span>; j++) &#123;</span><br><span class="line">            <span class="comment">// <span class="doctag">TODO:</span> fix wrong answer</span></span><br><span class="line">            <span class="keyword">if</span> (ddList[i].children[<span class="number">0</span>].children[j].className.split(<span class="string">' '</span>)[<span class="number">1</span>] == <span class="string">"correct"</span>) &#123;</span><br><span class="line">                questionList.push(<span class="keyword">new</span> Question(imgList[i].src.split(<span class="string">'='</span>)[<span class="number">1</span>], j + <span class="number">1</span>));</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (ddList[i].children[<span class="number">0</span>].nodeName == <span class="string">"LABEL"</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (ddList[i].children[<span class="number">0</span>].className == <span class="string">"checked"</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (ddList[i].children[<span class="number">2</span>].className == <span class="string">"falseIcon"</span>) &#123;</span><br><span class="line">                questionList.push(<span class="keyword">new</span> Question(imgList[i].src.split(<span class="string">'='</span>)[<span class="number">1</span>], <span class="number">2</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                questionList.push(<span class="keyword">new</span> Question(imgList[i].src.split(<span class="string">'='</span>)[<span class="number">1</span>], <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (ddList[i].children[<span class="number">2</span>].className == <span class="string">"falseIcon"</span>) &#123;</span><br><span class="line">                questionList.push(<span class="keyword">new</span> Question(imgList[i].src.split(<span class="string">'='</span>)[<span class="number">1</span>], <span class="number">1</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> &#123;</span><br><span class="line">                questionList.push(<span class="keyword">new</span> Question(imgList[i].src.split(<span class="string">'='</span>)[<span class="number">1</span>], <span class="number">2</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        alert(<span class="string">'ddList['</span> + i + <span class="string">'].children[0].nodeName do not match.'</span>)</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Codeforces Round 325 (Div. 2)]]></title>
      <url>http://dwayneten.com/2015/10/16/CF325/</url>
      <content type="html"><![CDATA[<p>CF 改了分段制度后的第一场。<br><a id="more"></a><br><a href="http://codeforces.com/contest/586/problem/A" target="_blank" rel="external">A - Alena’s Schedule</a></p>
<blockquote>
<p>根据规则判断 Alena 在学校的时长</p>
</blockquote>
<p>扫一遍找出起点和终点， 再扫一遍求答案。<br>O(n)<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn, tcase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("in.txt", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("out.txt", "w", stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">128</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]);</span><br><span class="line">    <span class="keyword">int</span> s, e, ans;</span><br><span class="line">    s = e = ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        <span class="keyword">if</span> (a[i])</span><br><span class="line">            s = i, i = n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=n-<span class="number">1</span>; i+<span class="number">1</span>; --i)</span><br><span class="line">        <span class="keyword">if</span> (a[i])</span><br><span class="line">            e = i, i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=s; i&lt;=e; ++i)</span><br><span class="line">        <span class="keyword">if</span> (a[i] || (!a[i] &amp;&amp; i &amp;&amp; a[i-<span class="number">1</span>] &amp;&amp; i &lt; n-<span class="number">1</span> &amp;&amp; a[i+<span class="number">1</span>]))</span><br><span class="line">            ans++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/contest/586/problem/B" target="_blank" rel="external">B - Laurenty and Shop</a></p>
<blockquote>
<p>给出街道图过各条马路需要的等待时间， 求去商店再回来并且来回不走同一条路的最少花费时间。</p>
</blockquote>
<p>赛时看数据范围可以接受， 没思考直接 O(N^2) 暴力过了。<br>其实答案必然是最短路加上次短路， 可以 O(N) 解决。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn, tcase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("in.txt", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("out.txt", "w", stdout);</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> a[<span class="number">64</span>], b[<span class="number">64</span>], c[<span class="number">64</span>], ans[<span class="number">128</span>];</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    a[<span class="number">0</span>] = b[n-<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; ++i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;a[i]), a[i] += a[i-<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n-<span class="number">1</span>; ++i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;b[i]);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=n-<span class="number">2</span>; i+<span class="number">1</span>; --i)</span><br><span class="line">        b[i] += b[i+<span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;c[i]);</span><br><span class="line">    <span class="keyword">int</span> prev, minn;</span><br><span class="line">    prev = minn = c[<span class="number">0</span>] + a[<span class="number">0</span>] + b[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        c[i] += a[i] + b[i];</span><br><span class="line">        <span class="keyword">if</span> (c[i] &lt; minn)</span><br><span class="line">        &#123;</span><br><span class="line">            prev = minn;</span><br><span class="line">            minn = c[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (c[i] &lt; prev)</span><br><span class="line">            prev = c[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, prev + minn);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/contest/586/problem/C" target="_blank" rel="external">C - Gennady the Dentist</a></p>
<blockquote>
<p>每个小孩有三个值分别是在诊室哭的音量， 在走廊哭的音量和信心值， 听到哭声使信心降至零以下时就会哭着跑掉， 求最后进了诊室的小孩数量及编号。</p>
</blockquote>
<p>一个个处理， 在处理诊室内小孩哭声时同时处理因其而吓跑的小孩。<br>要注意的地方是用 int 型会溢出。<br>O(N^2)<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn, tcase = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> v[<span class="number">4096</span>], d[<span class="number">4096</span>], p[<span class="number">4096</span>], ans[<span class="number">4096</span>], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("in.txt", "r", stdin);</span></span><br><span class="line">    <span class="comment">//freopen("out.txt", "w", stdout);</span></span><br><span class="line"></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">		<span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;v[i], &amp;d[i], &amp;p[i]);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="keyword">if</span> (p[i] &lt; <span class="number">0</span>)</span><br><span class="line">			<span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> sum = <span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">int</span> j=i+<span class="number">1</span>; j&lt;n; ++j)</span><br><span class="line">		&#123;</span><br><span class="line">			<span class="keyword">if</span> (p[j] &lt; <span class="number">0</span>)</span><br><span class="line">				<span class="keyword">continue</span>;</span><br><span class="line">			p[j] -= v[i] + sum;</span><br><span class="line">			<span class="keyword">if</span> (p[j] &lt; <span class="number">0</span>)</span><br><span class="line">				sum += d[j];</span><br><span class="line">			<span class="keyword">if</span> (v[i])</span><br><span class="line">				v[i]--;</span><br><span class="line">		&#125;</span><br><span class="line">		ans[cnt++] = i + <span class="number">1</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, cnt);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;cnt; ++i)</span><br><span class="line">		<span class="built_in">printf</span>(<span class="string">"%d "</span>, ans[i]);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/contest/586/problem/D" target="_blank" rel="external">D - Phillip and Trains</a></p>
<blockquote>
<p>待更新</p>
</blockquote>
<p>待更新<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 待更新</span></span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[浏览器常用网站 A to Z]]></title>
      <url>http://dwayneten.com/2015/10/10/atoz/</url>
      <content type="html"><![CDATA[<p>在别人家博客看到， 然后自己试了下。</p>
<ul>
<li><a href="http://www.acfun.tv" target="_blank" rel="external">Acfun</a></li>
<li><a href="http://bilibili.tv/" target="_blank" rel="external">Blibili</a></li>
<li><a href="http://www.codeforces.com/" target="_blank" rel="external">Codeforces</a></li>
<li><a href="http://www.dwayneten.com" target="_blank" rel="external">Dwayneten’s Blog</a></li>
<li><a href="https://en.mail.qq.com/" target="_blank" rel="external">English qq mail</a></li>
<li><a href="http://flickr.com/" target="_blank" rel="external">Flickr</a></li>
<li><a href="https://github.com/" target="_blank" rel="external">Github</a></li>
<li><a href="http://hankcs.com/" target="_blank" rel="external">Hankcs’s Blog</a></li>
<li><a href="http://ideone.com/" target="_blank" rel="external">Ideone</a></li>
<li><a href="http://ja.curecos.com/" target="_blank" rel="external">Japan Cure</a></li>
<li><a href="http://www.komica.org" target="_blank" rel="external">Komica</a></li>
<li><a href="http://live.bilibili.com/" target="_blank" rel="external">Live.Bilibili</a></li>
<li><a href="http://music.163.com/" target="_blank" rel="external">Music.163</a></li>
<li><a href="http://www.nicovideo.jp/" target="_blank" rel="external">Niconico</a></li>
<li><a href="https://oj.leetcode.com/" target="_blank" rel="external">Oj.leetcode</a></li>
<li><a href="http://pan.baidu.com/" target="_blank" rel="external">Pan.baidu</a></li>
<li><a href="http://qzone.qq.com/" target="_blank" rel="external">Qzone</a></li>
<li><a href="http://rescuetime.com" target="_blank" rel="external">Rescuetime</a></li>
<li><a href="http://sae.sina.com.cn" target="_blank" rel="external">SAE</a></li>
<li><a href="https://www.taobao.com/" target="_blank" rel="external">Taobao</a></li>
<li><a href="http://user.qzone.qq.com" target="_blank" rel="external">User.qzone</a></li>
<li><a href="http://v2ex.com/" target="_blank" rel="external">V2EX</a></li>
<li><a href="http://weibo.com/" target="_blank" rel="external">Weibo</a></li>
<li><a href="http://xcoder.in/" target="_blank" rel="external">XadillaX’s Blog</a></li>
<li><a href="http://www.youtube.com/" target="_blank" rel="external">Youtube</a></li>
<li><a href="http://www.zhihu.com/" target="_blank" rel="external">Zhihu</a></li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[3ds MAX 建模渲染的宿舍图]]></title>
      <url>http://dwayneten.com/2015/10/09/dorm_3dsMax/</url>
      <content type="html"><![CDATA[<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormfinish04.jpg" class="img-shadow"></p>
<blockquote>
<h3 id="u7F18_u8D77"><a href="#u7F18_u8D77" class="headerlink" title="缘起"></a>缘起</h3></blockquote>
<p>其实一开始的想法只是单纯地想整理和布置一下宿舍， 然而买的墙纸和木板啥的到了之后就刮台风， 下大雨在宿舍出不了门好无聊_(:3」∠)_于是就开始下载了个 3ds max 来折腾， 因为似乎挺好玩的样子xD。</p>
<blockquote>
<h3 id="u6548_u679C_u56FE"><a href="#u6548_u679C_u56FE" class="headerlink" title="效果图"></a>效果图</h3></blockquote>
<a id="more"></a>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormfinish01.jpg" class="img-shadow"><br><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormfinish02.jpg" class="img-shadow"><br><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormfinish03.jpg" class="img-shadow"><br><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormfinish05.jpg" class="img-shadow"><br><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormfinish06.jpg" class="img-shadow"></p>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormreal01.jpg" class="img-shadow"><br><img src="http://7vzsbj.com1.z0.glb.clouddn.com/dormreal02.jpg" class="img-shadow"></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CF 558C Amr and Chemistry]]></title>
      <url>http://dwayneten.com/2015/07/21/CF558C/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://codeforces.com/contest/558/problem/C" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>给出 <em>N</em> 个数， 可以重复执行以下两种操作:</p>
<ol>
<li>使某个数变为原来的两倍。</li>
<li>使某个数变为原来的一半（向下取整）。</li>
</ol>
<p>问若要使所有数变为同一个数最少需要执行几次变换。</p>
<blockquote>
<h3 id="u6837_u4F8B_u8F93_u5165"><a href="#u6837_u4F8B_u8F93_u5165" class="headerlink" title="样例输入"></a>样例输入</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span> <span class="number">8</span> <span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">5</span> <span class="number">6</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u6837_u4F8B_u8F93_u51FA"><a href="#u6837_u4F8B_u8F93_u51FA" class="headerlink" title="样例输出"></a>样例输出</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>这是一道比较有意思的题， 很容易可以想到是对这些数的二进制表示进行匹配。</p>
<p>一开始的思路是找出这些数二进制表示下的最长公共前缀， 然后再考虑对齐这样的做法， 但发现这样做不能得到最优答案， 因为右移时可以去掉最低位的 1 或 0， 而左移时会产生 0. 使得未进行位移时所求的最长公共前缀有可能不是最优方案的最长公共前缀。</p>
<p>赛时没有做出来， 赛后出题者给出的 <a href="http://ideone.com/9wXvKz" target="_blank" rel="external"><em>标程</em></a> 是对每个数进行 BFS 求出可以得到的数， 再从中找出最优方案。</p>
<p>后来发现更简单的做法， 在读入每个数时把右移可以得到的数和步数记录下来， 得到一个只使用右移操作的答案， 然后再根据之前记录下来的可以得到某个数的个数来更新答案（这个数若大于 n / 2 则说明有一部分右移操作是多余的，  可以用左移操作来代替）。详情看代码。</p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn, tcase = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> num[<span class="number">100024</span>], step[<span class="number">100024</span>], ret, tmp, ans;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="comment">//freopen("in.txt", "r", stdin);</span></span><br><span class="line">	<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i, k = <span class="number">0</span>)</span><br><span class="line">		<span class="keyword">for</span> (<span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;m); m; m &gt;&gt;= <span class="number">1</span>, ++k)</span><br><span class="line">			num[m]++, step[m] += k;</span><br><span class="line">	<span class="keyword">for</span> (ret=<span class="number">1e5</span>; ret &gt; <span class="number">1</span> &amp;&amp; num[ret] != n; --ret);</span><br><span class="line">	<span class="keyword">for</span> (ans = step[ret]; ret &lt;&lt; <span class="number">1</span> &lt;= <span class="number">1e5</span>; ret &lt;&lt;= <span class="number">1</span>)</span><br><span class="line">	&#123;</span><br><span class="line">		tmp = num[ret &lt;&lt; <span class="number">1</span>];</span><br><span class="line">		<span class="keyword">if</span> (n &gt;= tmp &lt;&lt; <span class="number">1</span>)</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		ans -= tmp &lt;&lt; <span class="number">1</span>;</span><br><span class="line">		ans += n;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u5C0F_u7ED3"><a href="#u5C0F_u7ED3" class="headerlink" title="小结"></a>小结</h3></blockquote>
<p>暴力和贪心的姿势很重要 233。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[SOJ 11347 Unknown Switches]]></title>
      <url>http://dwayneten.com/2015/04/30/SOJ11347/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://soj.sysu.edu.cn/11347" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>共有 <em>N</em> 个开关和 <em>M</em> 盏灯， 每盏灯仅由一个开关控制， 而一个开关可能控制对应的多盏灯。 然后给出 <em>Q</em> 次操作， 每次包含开关和灯的状态。<br>左边的 0 表示保持开关现状不变， 1 表示改变开关状态；<br>右边的 0 表示该位置的灯处在关闭状态， 1 表示处在打开状态。<br>要求输出每盏灯是由第几个开关控制的， 若不能确定则以 ‘?’ 代替。</p>
<blockquote>
<h3 id="u6837_u4F8B_u8F93_u5165"><a href="#u6837_u4F8B_u8F93_u5165" class="headerlink" title="样例输入"></a>样例输入</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> <span class="number">10</span> <span class="number">3</span></span><br><span class="line"><span class="number">000</span> <span class="number">0000000000</span></span><br><span class="line"><span class="number">110</span> <span class="number">0000001111</span></span><br><span class="line"><span class="number">101</span> <span class="number">1111111100</span></span><br><span class="line"><span class="number">2</span> <span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line"><span class="number">01</span> <span class="number">1</span></span><br><span class="line"><span class="number">11</span> <span class="number">11</span> <span class="number">10</span></span><br><span class="line"><span class="number">10000000000</span> <span class="number">10000000000</span></span><br><span class="line"><span class="number">11000000000</span> <span class="number">01000000000</span></span><br><span class="line"><span class="number">01100000000</span> <span class="number">00100000000</span></span><br><span class="line"><span class="number">00110000000</span> <span class="number">00010000000</span></span><br><span class="line"><span class="number">00011000000</span> <span class="number">00001000000</span></span><br><span class="line"><span class="number">00001100000</span> <span class="number">00000100000</span></span><br><span class="line"><span class="number">00000110000</span> <span class="number">00000010000</span></span><br><span class="line"><span class="number">00000011000</span> <span class="number">00000001000</span></span><br><span class="line"><span class="number">00000001100</span> <span class="number">00000000100</span></span><br><span class="line"><span class="number">00000000110</span> <span class="number">00000000010</span></span><br><span class="line"><span class="number">0</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u6837_u4F8B_u8F93_u51FA"><a href="#u6837_u4F8B_u8F93_u51FA" class="headerlink" title="样例输出"></a>样例输出</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2222221100</span></span><br><span class="line">??</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0123456789</span>A</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>状态用一个<code>long long</code>型来保存。<br>对于每个 case 维护一个当前处于打开状态的开关集合。<br>对于每盏灯维护一个能与之匹配的开关集合， 初始化时将这个集合初始化成开关全集。<br>对于每次操作， 遍历每盏灯：<br>若当时这盏灯处于打开状态， 那么可以排除掉目前处于关闭状态的开关；<br>若当时这盏灯处于关闭状态，<br>则可以排除掉目前处于打开状态的开关。<br>处理完所有操作后， 遍历所有灯根据能与之匹配的开关集合处理答案即可。</p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Problem#: 11347</span></span><br><span class="line"><span class="comment">// Submission#: 3709475</span></span><br><span class="line"><span class="comment">// The source code is licensed under Creative Commons Attribution-NonCommercial-ShareAlike 3.0 Unported License</span></span><br><span class="line"><span class="comment">// URI: http://creativecommons.org/licenses/by-nc-sa/3.0/</span></span><br><span class="line"><span class="comment">// All Copyright reserved by Informatic Lab of Sun Yat-sen University</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, k, tn, tcase = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> LL;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line"><span class="preprocessor">#<span class="keyword">ifdef</span> OFFLINE</span></span><br><span class="line">    freopen(<span class="string">"data.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="comment">//freopen("data.out", "w", stdout);</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    ios_base::sync_with_stdio(<span class="literal">false</span>); </span><br><span class="line">    <span class="keyword">for</span> (;<span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m &gt;&gt; k, n || m || k;)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> a, b;</span><br><span class="line">        <span class="built_in">vector</span>&lt;LL&gt; can(m, (<span class="number">1L</span>L &lt;&lt; n) - <span class="number">1</span>);</span><br><span class="line">        LL state = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;k; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;n; ++j)</span><br><span class="line">                <span class="keyword">if</span> (a[j] == <span class="string">'1'</span>)</span><br><span class="line">                    state ^= (<span class="number">1L</span>L &lt;&lt; j);</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;m; ++j)</span><br><span class="line">                <span class="keyword">if</span> (b[j] == <span class="string">'1'</span>)</span><br><span class="line">                    can[j] &amp;= state;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    can[j] &amp;= ~state;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="built_in">string</span> <span class="title">ans</span><span class="params">(m, <span class="string">'?'</span>)</span></span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (__builtin_popcountll(can[i]) &gt; <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            LL shift = __builtin_ctzll(can[i]);</span><br><span class="line">            <span class="keyword">if</span> (shift &gt; <span class="number">9</span>)</span><br><span class="line">                ans[i] = shift - <span class="number">10</span> + <span class="string">'A'</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                ans[i] = shift + <span class="string">'0'</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; ans &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u5C0F_u7ED3"><a href="#u5C0F_u7ED3" class="headerlink" title="小结"></a>小结</h3></blockquote>
<p>在这题里， 对于 STL 里的容器使用如 <code>string ans(m, &#39;?&#39;);</code> 的方式初始化比较方便。<br>除了利用各种位运算符外， 还可以利用 GNU 内置的 <code>__builtin_popcountll()</code> 等位运算函数来方便地处理状态压缩的数据。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[五种 GCC 内置的位运算函数]]></title>
      <url>http://dwayneten.com/2015/04/29/gccbuiltin/</url>
      <content type="html"><![CDATA[<blockquote>
<h3 id="u539F_u578B"><a href="#u539F_u578B" class="headerlink" title="原型"></a>原型</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> __builtin_ffs (<span class="keyword">unsigned</span> <span class="keyword">int</span> x)</span><br></pre></td></tr></table></figure>
<p>返回 x 二进制表示中最后一位 1 是从后向前第几位， 比如 120 (01111000) 返回 4。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> __builtin_clz (<span class="keyword">unsigned</span> <span class="keyword">int</span> x)</span><br></pre></td></tr></table></figure></p>
<p>返回 x 二进制表示中前导 0 的个数， 比如 120 (01111000) 返回 25。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> __builtin_ctz (<span class="keyword">unsigned</span> <span class="keyword">int</span> x)</span><br></pre></td></tr></table></figure></p>
<p>返回 x 二进制表示中后导 0 的个数， 比如 120 (01111000) 返回 3。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> __builtin_popcount (<span class="keyword">unsigned</span> <span class="keyword">int</span> x)</span><br></pre></td></tr></table></figure></p>
<p>返回 x 二进制表示中 1 的个数， 比如 120 (01111000) 返回 4。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> __builtin_parity (<span class="keyword">unsigned</span> <span class="keyword">int</span> x)</span><br></pre></td></tr></table></figure></p>
<p>返回 x 的奇偶校验位 (x 二进制表示中 1 的个数模 2)， 比如 120 (01111000) 返回 0。</p>
<p>若需使用对应的 usigned long 和 usigned long long 版本， 则要在函数名后加 l 或者 ll.<br>如 __builtin_ffsll()</p>
<blockquote>
<h3 id="u6837_u4F8B"><a href="#u6837_u4F8B" class="headerlink" title="样例"></a>样例</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> tmp = <span class="number">1</span> &lt;&lt; <span class="number">4</span>;</span><br><span class="line"><span class="comment">// 00010000</span></span><br><span class="line">--tmp;</span><br><span class="line"><span class="comment">// 00001111</span></span><br><span class="line">tmp &lt;&lt;= <span class="number">3</span>;</span><br><span class="line"><span class="comment">// 01111000</span></span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, __builtin_ffs(tmp));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, __builtin_clz(tmp));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, __builtin_ctz(tmp));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, __builtin_popcount(tmp));</span><br><span class="line"><span class="built_in">printf</span>(<span class="string">"%d\n"</span>, __builtin_parity(tmp));</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><figcaption><span>Output</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">25</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">0</span></span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CSU 1542 Flipping Parentheses]]></title>
      <url>http://dwayneten.com/2015/04/17/CSU1542/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://acm.csu.edu.cn/OnlineJudge/problem.php?id=1542" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>给出长度为 <em>n</em> 且匹配正确的括号序列和 <em>m</em> 个操作。<br>每次操作将对应位置上的括号取反， 即<code>(</code>变为<code>)</code>， <code>)</code>变为<code>(</code>。<br>然后要求输出每次操作后对哪个位置上的括号取反可以使整个括号序列再次符合匹配。<br>若有多个满足要求的位置， 输出最靠左端的位置。</p>
<blockquote>
<h3 id="u6837_u4F8B_u8F93_u5165"><a href="#u6837_u4F8B_u8F93_u5165" class="headerlink" title="样例输入"></a>样例输入</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span> <span class="number">3</span></span><br><span class="line">( ( ( ) ) )</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u6837_u4F8B_u8F93_u51FA"><a href="#u6837_u4F8B_u8F93_u51FA" class="headerlink" title="样例输出"></a>样例输出</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>首先定义 a[i] 为 [1 - i] 里左括号减去右括号的值， 可以发现一个匹配正确的括号系列总是满足:</p>
<ul>
<li>a 数组中没有负数</li>
<li>a 数组以 0 结束</li>
</ul>
<a id="more"></a>
<p>用样例举例:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>(</td>
<td>(</td>
<td>(</td>
<td>)</td>
<td>)</td>
<td>)</td>
</tr>
<tr>
<td>a[i]</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>第一个操作修改第 4 个括号后:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>(</td>
<td>(</td>
<td>(</td>
<td><strong>(</strong></td>
<td>)</td>
<td>)</td>
</tr>
<tr>
<td>a[i]</td>
<td><strong><em>1</em></strong></td>
<td>2</td>
<td>3</td>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>可以看出， 若第 x 个括号是<code>)</code>, 将其修改成<code>(</code>后， [a[x], a[n]] 都加上了 2.<br>要使其恢复匹配即是要找一个最靠左端的 y ， y 满足 [a[y], a[n]] &gt;= 2.<br>所以要从尾端往前找， 找到第一个不满足 a[i] &gt;= 2 的即跳出， 所求的 y 就是 i + 1.<br>在这个例子， 第一个不满足的是 a[1] = 1， 所求的 y 是 1 + 1 = 2.</p>
<p>所以将第 2 个括号取反:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>(</td>
<td><strong>)</strong></td>
<td>(</td>
<td>(</td>
<td>)</td>
<td>)</td>
</tr>
<tr>
<td>a[i]</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>整个括号序列又符合匹配了。</p>
<p>第二个操作修改第 3 个括号后:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>(</td>
<td>)</td>
<td><strong>)</strong></td>
<td>(</td>
<td>)</td>
<td>)</td>
</tr>
<tr>
<td>a[i]</td>
<td>1</td>
<td>0</td>
<td>-1</td>
<td>0</td>
<td>-1</td>
<td>-2</td>
</tr>
<tr>
<td>d[i]</td>
<td>1</td>
<td><strong><em>-2</em></strong></td>
<td>-4</td>
<td>-4</td>
<td>-6</td>
<td>-8</td>
</tr>
</tbody>
</table>
<p>相应地可以看出， 若第 x 个括号是<code>(</code>， 将其修改成<code>)</code>后， a[a[x], a[n]] 都减去了 2.<br>对于这种情况显然地，找到最左端的<code>)</code>并将其修改成<code>(</code>就可以使括号序列重新满足匹配。<br>为此引入一个 d 数组， d[i] = a[i] - i, 那么我们要找的就是 $$min(\ i\ |\ d[i] &lt; 0 )$$</p>
<p>所以将第 2 个括号取反:</p>
<table>
<thead>
<tr>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>(</td>
<td><strong>(</strong></td>
<td>)</td>
<td>(</td>
<td>)</td>
<td>)</td>
</tr>
<tr>
<td>a[i]</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
<td>0</td>
</tr>
<tr>
<td>d[i]</td>
<td>1</td>
<td>0</td>
<td>-2</td>
<td>-2</td>
<td>-4</td>
<td>-6</td>
</tr>
</tbody>
</table>
<p>至此， 两种修改都有了对应的求解策略， 需要更新维护的是区间 a[i] 的最小值用来找出不满足 a[i] &gt;= 2 的位置和区间 d[i] 的最小值用来找出最靠左端的<code>)</code>。<br>还有修改括号后的 a 数组和 d 数组的区间修改。<br>这种操作当然用线段树实现啦。</p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> mydebugn</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> tn, n, m, tcase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">300024</span>;</span><br><span class="line"><span class="keyword">char</span> paren[maxn &lt;&lt; <span class="number">2</span>];</span><br><span class="line"><span class="keyword">int</span> num[maxn &lt;&lt; <span class="number">2</span>], lazy[maxn &lt;&lt; <span class="number">2</span>], d[maxn &lt;&lt; <span class="number">2</span>], q, cur, ans;</span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> lson l, mid, rt &lt;&lt; <span class="number">1</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">define</span> rson mid + <span class="number">1</span>, r, rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">template</span>&lt;<span class="keyword">class</span> T&gt; <span class="function">T <span class="title">min</span><span class="params">(T a, T b)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> a &lt; b ? a : b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushup</span><span class="params">(<span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    num[rt] = min(num[rt &lt;&lt; <span class="number">1</span>], num[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]);</span><br><span class="line">    d[rt] = min(d[rt &lt;&lt; <span class="number">1</span>], d[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">pushdown</span><span class="params">(<span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    lazy[rt &lt;&lt; <span class="number">1</span>] += lazy[rt];</span><br><span class="line">    lazy[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] += lazy[rt];</span><br><span class="line">    d[rt &lt;&lt; <span class="number">1</span>] += lazy[rt];</span><br><span class="line">    d[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] += lazy[rt];</span><br><span class="line">    num[rt &lt;&lt; <span class="number">1</span>] += lazy[rt];</span><br><span class="line">    num[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] += lazy[rt];</span><br><span class="line"></span><br><span class="line">    lazy[rt] = <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">build</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        cur += paren[l] == <span class="string">'('</span> ? <span class="number">1</span> : -<span class="number">1</span>;</span><br><span class="line">        num[rt] = cur;</span><br><span class="line">        d[rt] = num[rt] - l;</span><br><span class="line"><span class="preprocessor">#<span class="keyword">ifdef</span> mydebug</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, num[rt]);</span><br><span class="line">        <span class="keyword">if</span> (r == n)</span><br><span class="line">            <span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    build(lson);</span><br><span class="line">    build(rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> L, <span class="keyword">int</span> R, <span class="keyword">int</span> x, <span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (L &lt;= l &amp;&amp; R &gt;= r)</span><br><span class="line">    &#123;</span><br><span class="line">        lazy[rt] += x;</span><br><span class="line">        d[rt] += x;</span><br><span class="line">        num[rt] += x;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (lazy[rt])</span><br><span class="line">        pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (L &lt;= mid)</span><br><span class="line">        update(L, R, x, lson);</span><br><span class="line">    update(L, R, x, rson);</span><br><span class="line">    pushup(rt);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query1</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r)</span><br><span class="line">        <span class="keyword">return</span> l;</span><br><span class="line">    <span class="keyword">if</span> (lazy[rt])</span><br><span class="line">        pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (d[rt &lt;&lt; <span class="number">1</span>] &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> query1(lson);</span><br><span class="line">    <span class="keyword">return</span> query1(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">query2</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r)</span><br><span class="line">        <span class="keyword">return</span> l+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (lazy[rt])</span><br><span class="line">        pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (num[rt &lt;&lt; <span class="number">1</span> | <span class="number">1</span>] &lt; <span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> query2(rson);</span><br><span class="line">    <span class="keyword">return</span> query2(lson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">showd</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, d[rt]);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (lazy[rt])</span><br><span class="line">        pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    showd(lson);</span><br><span class="line">    showd(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">shownum</span><span class="params">(<span class="keyword">int</span> l, <span class="keyword">int</span> r, <span class="keyword">int</span> rt)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (l == r)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>, num[rt]);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (lazy[rt])</span><br><span class="line">        pushdown(rt);</span><br><span class="line">    <span class="keyword">int</span> mid = (l + r) &gt;&gt; <span class="number">1</span>;</span><br><span class="line">    shownum(lson);</span><br><span class="line">    shownum(rson);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">change</span><span class="params">(<span class="keyword">int</span> in)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    paren[in] = paren[in] == <span class="string">'('</span> ? <span class="string">')'</span> : <span class="string">'('</span>;</span><br><span class="line">    update(in, n, paren[in] == <span class="string">')'</span> ? -<span class="number">2</span> : <span class="number">2</span>, <span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">ifdef</span> mydebug</span></span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line">    <span class="built_in">puts</span>(paren+<span class="number">1</span>);</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">"num:"</span>);</span><br><span class="line">    shownum(<span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">"\nd:"</span>);</span><br><span class="line">    showd(<span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">puts</span>(<span class="string">""</span>);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line"><span class="preprocessor">#<span class="keyword">ifdef</span> OFFLINE</span></span><br><span class="line">    freopen(<span class="string">"data.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d %s"</span>, &amp;n, &amp;m, paren+<span class="number">1</span>);</span><br><span class="line">    build(<span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">while</span>(m--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;q);</span><br><span class="line">        change(q);</span><br><span class="line">        <span class="keyword">if</span> (paren[q] == <span class="string">')'</span>)</span><br><span class="line">            ans = query1(<span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            ans = query2(<span class="number">1</span>, n, <span class="number">1</span>);</span><br><span class="line">        change(ans);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CSU 1554 SG Value]]></title>
      <url>http://dwayneten.com/2015/04/17/CSU1554/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://acm.csu.edu.cn/OnlineJudge/problem.php?id=1554" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>共有 <em>n</em> 个操作， 一开始集合为空集， <code>1 x</code>代表将一个 x 加入到集合中， <code>2</code>则表示查询当前集合的 SG 值， SG 值为利用当前集合内任意多个元素相加所不能得出的数中最小的正整数。</p>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>可以确认的是， 一开始当集合为空集时，SG 值为 1.<br>注意到当 SG 值为 y 时， 理所当然地利用集合内的元素必然可以组合出 [1, y) 的数。<br>然后考虑每加入一个新的元素 x 时， 对 SG 值有什么影响:</p>
<ul>
<li>对于 <code>x &lt;= SG 值</code> 的情况<br>因为之前可以组合出 [1, SG 值) 的数， 加入 x 后就可以组合出 [1， SG 值 + y) 的数， 同时原 SG 值更新为 SG 值 + y。</li>
<li>对于 <code>x &gt; SG 值</code> 的情况<br>因为 x &gt; SG 值， 所以加入 x 对目前的 SG 值没有影响， 但如果以后 SG 值变得比 x 大的话， 就会对其产生影响， 所以先将 x 存起来， 每一次 SG 值得到更新后， 提取出之前存过的数， 看其是否能更新 SG 值。</li>
</ul>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*///////////////////////////////////////////////////////</span><br><span class="line">    Author        :Dwayne</span><br><span class="line">    Created Time  :2015/4/17 8:20:06</span><br><span class="line">    File Name     :CSU1554.cpp</span><br><span class="line">//////////////////////////////////////////////////////<span class="comment">/*/</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;set&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n, m, k, tn, tcase = 0;</span><br><span class="line">typedef long long LL;</span><br><span class="line">LL ans;</span><br><span class="line">multiset&lt;LL&gt;s;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">    while(~scanf("%d", &amp;n))</span><br><span class="line">    &#123;</span><br><span class="line">        s.clear();</span><br><span class="line">        ans = 1;</span><br><span class="line">        LL t;</span><br><span class="line">        for (int i=0; i&lt;n; ++i)</span><br><span class="line">        &#123;</span><br><span class="line">            scanf("%lld", &amp;t);</span><br><span class="line">            if (t == 1)</span><br><span class="line">            &#123;</span><br><span class="line">                scanf("%lld", &amp;t);</span><br><span class="line">                if (t &lt;= ans)</span><br><span class="line">                &#123;</span><br><span class="line">                    ans += t;</span><br><span class="line">                    if (s.size())</span><br><span class="line">                    &#123;</span><br><span class="line">                        multiset&lt;LL&gt;::iterator it = s.begin();</span><br><span class="line">                        while(*it &lt;= ans &amp;&amp; s.size())</span><br><span class="line">                        &#123;</span><br><span class="line">                            ans += *it;</span><br><span class="line">                            s.erase(it);</span><br><span class="line">                            it = s.begin();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                else</span><br><span class="line">                    s.insert(t);</span><br><span class="line">            &#125;</span><br><span class="line">            else</span><br><span class="line">                printf("%lld\n", ans);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CSU 1555 Inversion Sequence]]></title>
      <url>http://dwayneten.com/2015/04/15/CSU1555/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://acm.csu.edu.cn/OnlineJudge/problem.php?id=1555" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>原序列由 1 ~ <em>n</em> 组成<br>给出根据原序列得出的包含 <em>n</em> 个数字的序列， 第 <em>i</em> 个数字代表原序列中的 <em>i</em> 前有多少个比 <em>i</em> 大的数， 求原序列。<br>若无合法的原序列， 输出 No solution 。</p>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>不难想到采取预留空位的策略。<br>以下面的数据为例：</p>
<blockquote>
<p>输入<br>5<br>1 2 0 1 0<br>输出<br>3 1 5 2 4</p>
</blockquote>
<ol>
<li>既然 1 前面有 1 个比 1 大的数， 那么就把 1 安置在第 2 位， 前面留一个空位。</li>
<li>因为 2 的前面有 2 个比 2 大的数， 那么就在其前面预留 2 个空位， 又因为第二位已经被 1 占用了， 所以把第 1 、 3 位留作空位， 把 2 安置在第 4 位。</li>
<li>因为 3 的前面有 0 个比 3 大的数， 所以不必预留空位， 将其直接放在第一个空闲的位置上， 即第 1 位。</li>
<li>因为给 4 预留 1 个空位， 经过上面三个操作后， 第 1、 2 、 4 位都被占用了， 所以将第 3 位作为预留空位， 将 4 放在第 5 位。</li>
<li>与 3 类似， 将 5 放在第一个可用位置上， 即第 3 位。</li>
</ol>
<p>策略有了， 但是上面的每步操作如果直接暴力的话是 O(n) 的时间复杂度， 需要优化成 O(logn) 才行， 可以用线段树实现。</p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn,  tcase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> d[<span class="number">65540</span>];</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">65540</span>];</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line"><span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;d[i], &amp;sum[i]);</span><br><span class="line">        <span class="keyword">if</span> (d[i] == <span class="number">1</span>)</span><br><span class="line">            q.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> from = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="comment">// 每棵树最后一个节点</span></span><br><span class="line">        <span class="keyword">if</span> (!d[from])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> to = sum[from];</span><br><span class="line">        ans.push(make_pair(from, to));</span><br><span class="line">        sum[to] ^= from;</span><br><span class="line">        d[to]--;</span><br><span class="line">        <span class="keyword">if</span> (d[to] == <span class="number">1</span>)</span><br><span class="line">            q.push(to);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans.size());</span><br><span class="line">    <span class="keyword">while</span>(!ans.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, ans.front().first, ans.front().second);</span><br><span class="line">        ans.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CSU 1541 There is No Alternative]]></title>
      <url>http://dwayneten.com/2015/04/15/CSU1541/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://acm.csu.edu.cn/OnlineJudge/problem.php?id=1541" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>求最小生成树不可替代的边的数目和这些不可替代的边的花费总和。</p>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>原先是想 DFS 找环， 加一些判断去掉某些边， 发现实现不了亦有可能是错误的。<br>其实只需先把最小生成树的总权值求出来， 然后对于每一条在最小生成树上的边， 求在去掉这条边的情况下， 原图再找最小生成树的总权值， 比较一下两个值， 若相等， 则这条边必然可以被其他边所替代， 反之若不等， 那么这条边就是我们要求的不可替代的边之一。</p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn, tcase = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">int</span> p[<span class="number">512</span>], skip[<span class="number">50024</span>], ans[<span class="number">50024</span>];</span><br><span class="line"><span class="keyword">int</span> small, first, num, sum, cnt;</span><br><span class="line"></span><br><span class="line"><span class="keyword">struct</span> edge</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> from, to, c;</span><br><span class="line">    <span class="keyword">bool</span> <span class="keyword">operator</span> &lt; (<span class="keyword">const</span> edge a) <span class="keyword">const</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>-&gt;c &lt; a.c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;e[<span class="number">50024</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> x == p[x] ? x : p[x] = find(p[x]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">Kruskal</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=n; ++i)</span><br><span class="line">        p[i] = i;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (skip[i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> x, y;</span><br><span class="line">        x = find(e[i].from), y = find(e[i].to);</span><br><span class="line">        <span class="keyword">if</span> (x != y)</span><br><span class="line">        &#123;</span><br><span class="line">            p[x] = y;</span><br><span class="line">            ret += e[i].c;</span><br><span class="line">            <span class="keyword">if</span> (first)</span><br><span class="line">                ans[num++] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line"><span class="preprocessor">#<span class="keyword">ifdef</span> OFFLINE</span></span><br><span class="line">    freopen(<span class="string">"data.in"</span>, <span class="string">"r"</span>, <span class="built_in">stdin</span>);</span><br><span class="line">    <span class="comment">//freopen("data.out", "w", stdout);</span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">endif</span></span></span><br><span class="line">    </span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;n, &amp;m);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d %d"</span>, &amp;e[i].from, &amp;e[i].to, &amp;e[i].c);</span><br><span class="line"></span><br><span class="line">    sort(e, e+m);</span><br><span class="line">    first = <span class="number">1</span>;</span><br><span class="line">    small = Kruskal();</span><br><span class="line">    first = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;num; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        skip[ans[i]] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (small != Kruskal())</span><br><span class="line">            cnt++, sum += e[ans[i]].c;</span><br><span class="line">        skip[ans[i]] = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, cnt, sum);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[hihocoder 1074 字体设计]]></title>
      <url>http://dwayneten.com/2015/03/30/hiho1074/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://hihocoder.com/problemset/problem/1074" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>给出 <em>n</em> 个数 <em>a<sub>1</sub></em> ~ <em>a<sub>n</sub></em> ， 若存在某一连续的数列 <em>a<sub>i</sub></em> ~ <em>a<sub>j</sub></em> ( i &lt; j ) :</p>
<ul>
<li>对于任何 <em>k</em> ∈  ( <em>i</em> , <em>j</em> ) 都满足 <em>a<sub>i</sub></em> &lt; <em>a<sub>k</sub></em> &lt; <em>a<sub>j</sub></em><br> 或</li>
<li>对于任何 <em>k</em> ∈  ( <em>i</em> , <em>j</em> ) 都满足 <em>a<sub>i</sub></em> &gt; <em>a<sub>k</sub></em> &gt; <em>a<sub>j</sub></em> </li>
</ul>
<p>则可以只保留 <em>a<sub>i</sub></em> 和 <em>a<sub>j</sub></em> ， 去掉 <em>a<sub>i</sub></em> 和 <em>a<sub>j</sub></em> 之间其它数。<br>求最少保留多少数和保留的数在原数列的下标(从 1 开始)。</p>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>在贪心策略下， 去掉区间 [ i, j ) 中最大数和最小数之间的数是必然最优的选择。<br>因此保留区间 [ i, j ) 中的 <em>a<sub>max</sub></em> 和 <em>a<sub>min</sub></em> ， 且可以把区间 [ i, j ) 分割成 [ i, <em>a<sub>max</sub></em> ) + [ <em>a<sub>max</sub></em> , j ) 或者 [ i, <em>a<sub>min</sub></em> ) + [ <em>a<sub>min</sub></em> , j ).<br>对分割后的区间也可以继续执行贪心策略。<br>注意到原数列首尾元素必须保留， 分割后的区间首尾元素必有其一被保留。<br>求解大区间和小区间的操作一致， 可以写成递归的形式。</p>
<blockquote>
<h3 id="u9898_u5916_u8BDD"><a href="#u9898_u5916_u8BDD" class="headerlink" title="题外话"></a>题外话</h3></blockquote>
<p><code>min_element</code> 和 <code>max_element</code> 的 <code>Comp</code> 函数调用方式有有别于 <code>sort</code> 的 <code>Comp</code> 函数调用方式的地方。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// min_element</span></span><br><span class="line"><span class="keyword">if</span> (comp(*first,*smallest))</span><br><span class="line">      smallest=first;</span><br><span class="line">      </span><br><span class="line"><span class="comment">// max_element</span></span><br><span class="line"><span class="keyword">if</span> (comp(*largest,*first))</span><br><span class="line">      largest=first;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><figcaption><span>hihocoder 1074 字体设计</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*///////////////////////////////////////////////////////</span><br><span class="line">    Author        :Dwayne</span><br><span class="line">    Created Time  :2015/3/30 18:10:26</span><br><span class="line">    File Name     :c.cpp</span><br><span class="line">//////////////////////////////////////////////////////<span class="comment">/*/</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n, m, k, tn, tcase = 0;</span><br><span class="line"></span><br><span class="line">int a[100024], ans[100024], cnt;</span><br><span class="line">int maxin, minin;</span><br><span class="line"></span><br><span class="line">bool cmp_max(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">    // 题目说 ai 互不相同， 但是这里少个等号就会WA， 原因不明</span><br><span class="line">	return x &lt;= y;</span><br><span class="line">&#125;</span><br><span class="line">bool cmp_min(int x, int y)</span><br><span class="line">&#123;</span><br><span class="line">	return x &lt; y;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">void run(int l, int r)</span><br><span class="line">&#123;</span><br><span class="line">	if (!ans[l])</span><br><span class="line">		ans[l] = 1, cnt++;</span><br><span class="line">	if (!ans[r])</span><br><span class="line">		ans[r] = 1, cnt++;</span><br><span class="line"></span><br><span class="line">	maxin = distance(a, max_element(a+l, a+r+1, cmp_max));</span><br><span class="line">	minin = distance(a, min_element(a+l, a+r+1, cmp_min));</span><br><span class="line">	</span><br><span class="line">	if (maxin != l &amp;&amp; maxin != r)</span><br><span class="line">	&#123;</span><br><span class="line">		run(l, maxin);</span><br><span class="line">		run(maxin, r);</span><br><span class="line">		return ;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	if (minin != l &amp;&amp; minin != r)</span><br><span class="line">	&#123;</span><br><span class="line">		run(l, minin);</span><br><span class="line">		run(minin, r);</span><br><span class="line">		return ;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line"></span><br><span class="line">	while (scanf("%d", &amp;n) != EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		for (int i=0; i&lt;n; ++i)</span><br><span class="line">			scanf("%d", &amp;a[i]), ans[i] = 0;</span><br><span class="line"></span><br><span class="line">		cnt = 0;</span><br><span class="line">		run(0, n-1);</span><br><span class="line"></span><br><span class="line">		printf("%d\n", cnt);</span><br><span class="line">		for (int i=0; i&lt;n; ++i)</span><br><span class="line">			if (ans[i])</span><br><span class="line">				printf(i == n-1 ? "%d\n" : "%d ", i+1);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure>]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[CF 501C Misha and Forest]]></title>
      <url>http://dwayneten.com/2015/03/30/CF501C/</url>
      <content type="html"><![CDATA[<h2 id="u9898_u76EE_u94FE_u63A5"><a href="#u9898_u76EE_u94FE_u63A5" class="headerlink" title="题目链接"></a><a href="http://codeforces.com/contest/501/problem/C" target="_blank" rel="external">题目链接</a></h2><blockquote>
<h3 id="u9898_u610F"><a href="#u9898_u610F" class="headerlink" title="题意"></a>题意</h3></blockquote>
<p>给出节点的数目 <em>n</em> ， 接下来有 <em>n</em> 行， 第 <em>i</em> 行 代表第 <em>i</em> 个节点。<br>每行包括一个 <em>d<sub>i</sub></em> 和 <em>s<sub>i</sub></em> ， <em>d<sub>i</sub></em> 表示该节点与多少个节点相邻， <em>s<sub>i</sub></em> 代表所有与其相邻的节点编号相异或的值 。保证这些点组成森林。<br>要求的是这个森林里面有多少条边， 和每条边的 <em>u</em> 和 <em>v</em>， 以任意顺序输出。</p>
<blockquote>
<h3 id="u601D_u8DEF"><a href="#u601D_u8DEF" class="headerlink" title="思路"></a>思路</h3></blockquote>
<p>一开始想的是建图， 根据异或的值来判断哪个节点和哪个节点之间有边， 但发现从这个角度无从下手去判断。<br>继而尝试从异或这个点下手。<br>我们知道异或有几个比较有用的性质：</p>
<ul>
<li>x ^ 0 = 0</li>
<li>x ^ x = 0 (偶数个相同的数相异或都等于零)</li>
<li>a ^ b = b ^ c<br>继而有</li>
<li>a ^ b = (a ^ b ^ c) ^ c</li>
</ul>
<p>然后注意到 <em>s<sub>i</sub></em> 其实“储存”了所有与第 <em>i</em> 个节点相邻的节点的编号。<br>但是怎么把它们提取出来呢？<br>回想题目， 既然给出的数据组成的是森林， 那么就一定有叶子节点。 叶子节点相比其他节点的特点就是只有一个节点与其相邻， 也就是 <em>d<sub>i</sub></em> = 1 。<br>显然， 既然相邻的节点只有一个， 我们马上就可以求出其相邻节点的编号 —— 就是 <em>s<sub>i</sub></em> 。<br>现在我们已经可以求出所有叶子节点和它父亲节点的编号， 但是这还不够， 题目要求的是整个森林的所有边。<br>我们要下一步操作是把森林中的所有的叶子和对应的边去掉来得到一个新的森林， 并且这个森林也一定存在着叶子。<br>为了实现这个操作， 利用到了上面提及的异或的性质。 我们在找到叶子节点 <em>i</em> 的父亲节点 <em>j</em> 之后， 使 <em>d<sub>j</sub></em> -= 1 并且 <em>s<sub>j</sub></em> ^= i 来将叶子节点 <em>i</em> 从森林中除去。当然， 在期间要记录一下它们之间的边作为答案。<br>可以用一个队列来存目前森林的叶子节点集合， 不断更新森林直到该队列为空时也就把所有边求出来了。</p>
<blockquote>
<h3 id="u4EE3_u7801_u5B9E_u73B0"><a href="#u4EE3_u7801_u5B9E_u73B0" class="headerlink" title="代码实现"></a>代码实现</h3></blockquote>
<a id="more"></a>
<figure class="highlight c++"><figcaption><span>CF 501C Misha and Forest</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="preprocessor">#<span class="keyword">include</span> <span class="string">&lt;utility&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, m, k, tn,  tcase = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> d[<span class="number">65540</span>];</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">65540</span>];</span><br><span class="line"><span class="built_in">queue</span>&lt;<span class="keyword">int</span>&gt; q;</span><br><span class="line"><span class="built_in">queue</span>&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt;ans;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>, &amp;n);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">"%d %d"</span>, &amp;d[i], &amp;sum[i]);</span><br><span class="line">        <span class="keyword">if</span> (d[i] == <span class="number">1</span>)</span><br><span class="line">            q.push(i);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span>(!q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> from = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="comment">// 每棵树最后一个节点</span></span><br><span class="line">        <span class="keyword">if</span> (!d[from])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">int</span> to = sum[from];</span><br><span class="line">        ans.push(make_pair(from, to));</span><br><span class="line">        sum[to] ^= from;</span><br><span class="line">        d[to]--;</span><br><span class="line">        <span class="keyword">if</span> (d[to] == <span class="number">1</span>)</span><br><span class="line">            q.push(to);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>, ans.size());</span><br><span class="line">    <span class="keyword">while</span>(!ans.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"%d %d\n"</span>, ans.front().first, ans.front().second);</span><br><span class="line">        ans.pop();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[查询在各大 OJ 的 AC 数]]></title>
      <url>http://dwayneten.com/2015/03/13/zscacm/</url>
      <content type="html"><![CDATA[<blockquote>
<h3 id="u4F20_u9001_u95E8"><a href="#u4F20_u9001_u95E8" class="headerlink" title="传送门"></a>传送门</h3></blockquote>
<p><a href="http://zscacm.sinaapp.com" target="_blank" rel="external">一个查询在各大 OJ 上 AC 数的页面</a></p>
<h2 id="u529F_u80FD"><a href="#u529F_u80FD" class="headerlink" title="功能"></a>功能</h2><p>支持 <a href="http://poj.org" target="_blank" rel="external">POJ</a>, <a href="http://acm.hdu.edu.cn" target="_blank" rel="external">HDU</a>, <a href="http://210.38.224.114" target="_blank" rel="external">ZSCOJ</a> (我校 OJ )的 AC 数查询和 <a href="http://bestcoder.hdu.edu.cn/" target="_blank" rel="external">Codeforces</a>, <a href="http://bestcoder.hdu.edu.cn/" target="_blank" rel="external">Bestcoder</a> 的 Rating 查询。<br>其他 OJ 暂不支持，主要是因为个人使用不怎么用到 XD</p>
<h2 id="u8D77_u56E0"><a href="#u8D77_u56E0" class="headerlink" title="起因"></a>起因</h2><p>某天老师给我发了这个 <a href="http://neuacm.sinaapp.com/index.php" target="_blank" rel="external">neuacm 刷题榜</a>，<br>在上面那个网页查询似乎要增加到表格中去，感觉可以自己搞个来方便查询。<br><a id="more"></a></p>
<h2 id="u5B9E_u73B0"><a href="#u5B9E_u73B0" class="headerlink" title="实现"></a>实现</h2><p>想了下实现方法，应该可以直接到各 OJ 的用户资料页去抓取 AC 数，想起之前看过 <a href="https://github.com/EndlessCheng" target="_blank" rel="external">EndlessCheng</a> 的 <a href="https://github.com/EndlessCheng/AC-Manager" target="_blank" rel="external">AC-Manager</a>，实现起来应该比较简单。</p>
<p>于是开始做，在 SAE 新建了个应用，开发语言选的<code>Python</code>（其实只是没试过玩一下）。<br>前端框架直接套的<code>purecss</code>，只划了两个页面，放了几个输入框用于接收账户名。</p>
<p>把 <a href="https://github.com/EndlessCheng/AC-Manager" target="_blank" rel="external">AC-Manager</a> 的<code>getnum.py</code>改了下，加上了获取 <a href="http://bestcoder.hdu.edu.cn/" target="_blank" rel="external">Codeforces</a> 和 <a href="http://bestcoder.hdu.edu.cn/" target="_blank" rel="external">Bestcoder</a> 上用户 Rating 的函数，然后新建了个<code>.py</code>文件用于处理 POST 过来的<code>username</code>并调用<code>getnum.py</code>里的相关函数获取 AC 数，最后给模板传递参数并返回渲染。</p>
<p>后来应老师要求加了个校内集训队成员的刷题数榜单，入口没有放在页面上 →_→..<br>由于每查询一个账号在某个 OJ 上的 AC 数就要抓取一次页面，所以使得获取所有人 AC 数的速度很慢也经常会出现超时的情况。计划在有空的时候改成数据库 + 按需更新的形式来代替实时查询。</p>
<p>在之后和 Endless 交流时获悉爬虫有更好的实现形式（BeautifulSoup），有空再去研究下。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Codeforces Round 294 (Div. 2)]]></title>
      <url>http://dwayneten.com/2015/03/01/CF519/</url>
      <content type="html"><![CDATA[<p>感觉这套 div2 的题比往常简单。<br>很久没打 CF 了，刚好这场开始时间比较早，就打了这场。<br>赛时只出了 ABC, hack+1。<br><a id="more"></a><br><a href="http://codeforces.com/problemset/problem/519/A" target="_blank" rel="external">519A - A and B and Chess</a></p>
<blockquote>
<p>A 题很水，不同字母代表的分数不同，比较两个阵型的总分大小。</p>
</blockquote>
<p>有个小坑点是 Knight 的代表字母是 N/n 而不是 K/k，有不少人没细心看题。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*///////////////////////////////////////////////////////</span><br><span class="line">    Author        :Dwayne</span><br><span class="line">    Created Time  :2015/2/28 20:59:27</span><br><span class="line">    File Name     :CF519A.cpp</span><br><span class="line">//////////////////////////////////////////////////////<span class="comment">/*/</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;map&gt;</span><br><span class="line">#include &lt;cctype&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n, m, k, tn, tcase = 0;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //freopen("in.txt", "r", stdin);</span><br><span class="line">    //freopen("out.txt", "w", stdout);</span><br><span class="line">    </span><br><span class="line">    char s[16][16];</span><br><span class="line">    for (int i=0; i&lt;8; ++i)</span><br><span class="line">        gets(s[i]);</span><br><span class="line">    map&lt;char, int&gt; mp;</span><br><span class="line">    mp['Q'] = mp['q'] = 9;</span><br><span class="line">    mp['R'] = mp['r'] = 5;</span><br><span class="line">    mp['B'] = mp['b'] = 3;</span><br><span class="line">    mp['N'] = mp['n'] = 3;</span><br><span class="line">    mp['P'] = mp['p'] = 1;</span><br><span class="line">    int cnta = 0, cntb = 0;</span><br><span class="line">    for (int i=0; i&lt;8; ++i)</span><br><span class="line">        for (int j=0; j&lt;8; ++j)</span><br><span class="line">            if (isalpha(s[i][j]))</span><br><span class="line">                if (isupper(s[i][j]))</span><br><span class="line">                    cnta += mp[s[i][j]];</span><br><span class="line">                else</span><br><span class="line">                    cntb += mp[s[i][j]];</span><br><span class="line">    if (cnta == cntb)</span><br><span class="line">        puts("Draw");</span><br><span class="line">    else</span><br><span class="line">        puts(cnta &gt; cntb ? "White" : "Black");</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/problemset/problem/519/B" target="_blank" rel="external">519B - A and B and Compilation Errors</a></p>
<blockquote>
<p>给出三行数，输出第一行中第二行没有的数和第二行中第三行没有的数。</p>
</blockquote>
<p>暴力，统计 sum，xor，map皆可。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*///////////////////////////////////////////////////////</span><br><span class="line">    Author        :Dwayne</span><br><span class="line">    Created Time  :2015/2/28 21:11:21</span><br><span class="line">    File Name     :CF519B.cpp</span><br><span class="line">//////////////////////////////////////////////////////<span class="comment">/*/</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;map&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n, m, k, tn, tcase = 0;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //freopen("in.txt", "r", stdin);</span><br><span class="line">    //freopen("out.txt", "w", stdout);</span><br><span class="line">    </span><br><span class="line">    scanf("%d", &amp;n);</span><br><span class="line">    int d[100024], e[100024], f[100024];</span><br><span class="line">    for (int i=0; i&lt;n; ++i)</span><br><span class="line">        scanf("%d", &amp;d[i]);</span><br><span class="line">    for (int i=0; i&lt;n-1; ++i)</span><br><span class="line">        scanf("%d", &amp;e[i]);</span><br><span class="line">    for (int i=0; i&lt;n-2; ++i)</span><br><span class="line">        scanf("%d", &amp;f[i]);</span><br><span class="line">    sort(d, d+n);</span><br><span class="line">    sort(e, e+n-1);</span><br><span class="line">    sort(f, f+n-2);</span><br><span class="line">    for (int i=0; i&lt;n; ++i)</span><br><span class="line">        if (d[i] != e[i])</span><br><span class="line">            printf("%d\n", d[i]), i = n;</span><br><span class="line">    for (int i=0; i&lt;n-1; ++i)</span><br><span class="line">        if (e[i] != f[i])</span><br><span class="line">            printf("%d\n", e[i]), i = n;</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/problemset/problem/519/C" target="_blank" rel="external">519C - A and B and Team Training</a></p>
<blockquote>
<p>假设有两种人 A 和 B，且有两种组队方案<code>AAB</code>和<code>BBA</code>，给出 A 类人和 B 类人的数目 n 和 m，求最多可组几对。</p>
</blockquote>
<p>赛时用暴力过了，后来听说$$min(n, m, (n+m)/3)$$可以直接出答案。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*///////////////////////////////////////////////////////</span><br><span class="line">    Author        :Dwayne</span><br><span class="line">    Created Time  :2015/2/28 21:22:58</span><br><span class="line">    File Name     :CF519C.cpp</span><br><span class="line">//////////////////////////////////////////////////////<span class="comment">/*/</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line"></span><br><span class="line">int n, m, k, tn, tcase = 0;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //freopen("in.txt", "r", stdin);</span><br><span class="line">    //freopen("out.txt", "w", stdout);</span><br><span class="line">    </span><br><span class="line">    scanf("%d %d", &amp;n, &amp;m);</span><br><span class="line">    int ans = 0, curn = n, curm = m, sum = n + m, typea = 0, typeb = 0;</span><br><span class="line">    while (sum &gt;= 3 &amp;&amp; curn &amp;&amp; curm)</span><br><span class="line">    &#123;</span><br><span class="line">        if (curn &gt;= 2 &amp;&amp; curm &gt;= 1)</span><br><span class="line">            curn -= 2, curm -= 1, sum -= 3, ans++, typea++;</span><br><span class="line">        if (curn &gt;= 1 &amp;&amp; curm &gt;= 2)</span><br><span class="line">            curn -= 1, curm -= 2, sum -= 3, ans++, typeb++;</span><br><span class="line">    &#125;</span><br><span class="line">    while (typea &amp;&amp; curm &gt;= 3)</span><br><span class="line">    &#123;</span><br><span class="line">        typeb += 2;</span><br><span class="line">        typea--;</span><br><span class="line">        ans++;</span><br><span class="line">        curm -= 3;</span><br><span class="line">    &#125;</span><br><span class="line">    while (typeb &amp;&amp; curn &gt;= 3)</span><br><span class="line">    &#123;</span><br><span class="line">        typea += 2;</span><br><span class="line">        typeb--;</span><br><span class="line">        ans++;</span><br><span class="line">        curn -= 3;</span><br><span class="line">    &#125;</span><br><span class="line">    printf("%d\n", ans);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/problemset/problem/519/D" target="_blank" rel="external">519D - A and B and Interesting Substrings</a></p>
<blockquote>
<p>给出26个字母对应的值和一个字符串，求这个字符串长度大于2的子串中有多少符合以下条件的:</p>
<ul>
<li>首字母与末字母相同</li>
<li>除去首字母和末字母之后，剩下的字母对应值之和为零</li>
</ul>
</blockquote>
<p>赛后补的题，赛时以为是DP，没想出怎么解。<br>统计前缀和，若<code>sum[i] == sum[j-1]</code>(i &lt; j)那么字符串中从 i 到 j 这段对应值之和就为零。<br>然后只要扫一遍，利用<code>map</code>来标记和更新答案数即可。<br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*///////////////////////////////////////////////////////</span><br><span class="line">    Author        :Dwayne</span><br><span class="line">    Created Time  :2015/3/1 19:47:19</span><br><span class="line">    File Name     :CF519D.cpp</span><br><span class="line">//////////////////////////////////////////////////////<span class="comment">/*/</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;map&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n, m, k, tn, tcase = 0;</span><br><span class="line">typedef long long LL;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    //freopen("in.txt", "r", stdin);</span><br><span class="line">    //freopen("out.txt", "w", stdout);</span><br><span class="line">    </span><br><span class="line">	int value[32];</span><br><span class="line">	for (int i=0; i&lt;26; ++i)</span><br><span class="line">		scanf("%d", &amp;value[i]);</span><br><span class="line">	char s[100024];</span><br><span class="line">	getchar();</span><br><span class="line">	gets(s);</span><br><span class="line">	</span><br><span class="line">	map&lt;LL, int&gt; cnt[32];</span><br><span class="line">	LL sum[100024], ans = 0;</span><br><span class="line">	sum[0] = value[0];</span><br><span class="line">	int len = strlen(s);</span><br><span class="line">	for (int i=1; i&lt;len; ++i)</span><br><span class="line">		sum[i] = sum[i-1] + value[s[i] - 'a'];</span><br><span class="line"></span><br><span class="line">	cnt[s[0] - 'a'][sum[0]]++;</span><br><span class="line">	for (int i=1; i&lt;len; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		ans += cnt[s[i] - 'a'][sum[i-1]];</span><br><span class="line">		cnt[s[i] - 'a'][sum[i]]++;</span><br><span class="line">	&#125;</span><br><span class="line">	printf("%I64d\n", ans);</span><br><span class="line"></span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure></p>
<p><a href="http://codeforces.com/problemset/problem/519/E" target="_blank" rel="external">519E - A and B and Lecture Rooms</a><br>这题还没补。</p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[POJ 3040 Allowance 题解]]></title>
      <url>http://dwayneten.com/2015/02/26/POJ-3040/</url>
      <content type="html"><![CDATA[<p>《挑战程序设计竞赛》练习题</p>
<blockquote>
<p>2.2 一直往前！贪心法</p>
</blockquote>
<ul>
<li>贪心</li>
</ul>
<p><a href="http://poj.org/problem?id=3040" target="_blank" rel="external">POJ 3040 Allowance</a><br>有N种硬币，需要支付的工资为M，每次支付工资至少要给M元。然后给出N种硬币的面值和数量，问最多能支付多少次工资。</p>
<hr>
<p>比较容易想到贪心策略：<br>1.先由面值从大到小地选取硬币来凑成一次工资但不能超过要支付的工资（即选出的硬币面值总和≤M）。<br>2.若经过步骤1选完后仍不够M，则再从小到大地选硬币直至选出的硬币面值总和不小于M。<br>3.重复步骤12直至剩下的硬币不够支付一次工资。<br>当然如果有硬币面值本来就比M大的可以直接发掉。<br><a id="more"></a><br><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*///////////////////////////////////////////////////////</span><br><span class="line">    Author        :Dwayne</span><br><span class="line">    Created Time  :2015/2/23 19:30:03</span><br><span class="line">    File Name     :POJ3040.cpp</span><br><span class="line">//////////////////////////////////////////////////////<span class="comment">/*/</span><br><span class="line"></span><br><span class="line">#include &lt;cstdio&gt;</span><br><span class="line">#include &lt;cstring&gt;</span><br><span class="line">#include &lt;algorithm&gt;</span><br><span class="line">using namespace std;</span><br><span class="line"></span><br><span class="line">int n, m, k, tn, tcase = 0;</span><br><span class="line">struct coin</span><br><span class="line">&#123;</span><br><span class="line">	int v, num;</span><br><span class="line">	bool operator &lt; (const coin&amp; b) const</span><br><span class="line">	&#123;</span><br><span class="line">		return (this-&gt;v &lt; b.v || (!(b.v &lt; this-&gt;v) &amp;&amp; (this-&gt;num &lt; b.num)));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    freopen("in.txt", "r", stdin);</span><br><span class="line">    //freopen("out.txt", "w", stdout);</span><br><span class="line">    scanf("%d %d", &amp;n, &amp;m);</span><br><span class="line">	coin c[24];</span><br><span class="line">    for (int i=0; i&lt;n; ++i)</span><br><span class="line">	&#123;</span><br><span class="line">		scanf("%d %d", &amp;c[i].v, &amp;c[i].num);	</span><br><span class="line">	&#125;</span><br><span class="line">	sort(c, c+n);</span><br><span class="line">	<span class="comment">/*</span><br><span class="line">	for (int i=0; i&lt;n; ++i)</span><br><span class="line">		printf("%d %d\n", c[i].v, c[i].num);</span><br><span class="line">	*/</span></span><br><span class="line">	int ans = 0;</span><br><span class="line">	for (int i=n-1; i+1; --i)</span><br><span class="line">		if (c[i].v &gt;= m)</span><br><span class="line">			ans += c[i].num, c[i].num = 0;</span><br><span class="line">		else</span><br><span class="line">			break;</span><br><span class="line">	int cur = 0;</span><br><span class="line">	while (true)</span><br><span class="line">	&#123;</span><br><span class="line">		cur = 0;</span><br><span class="line">		for (int i=n-1; i+1; --i)</span><br><span class="line">		&#123;</span><br><span class="line">			while (c[i].num &amp;&amp; cur + c[i].v &lt;= m)</span><br><span class="line">				c[i].num--, cur += c[i].v;</span><br><span class="line">		&#125;</span><br><span class="line">		for (int i=0; i&lt;n; ++i)</span><br><span class="line">		&#123;</span><br><span class="line">			while (c[i].num &amp;&amp; cur &lt; m)</span><br><span class="line">				c[i].num--, cur += c[i].v;</span><br><span class="line">		&#125;</span><br><span class="line">		if (cur &gt;= m)</span><br><span class="line">			ans++;</span><br><span class="line">		else</span><br><span class="line">			break;</span><br><span class="line">	&#125;</span><br><span class="line">	printf("%d\n", ans);</span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span></span></span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Hello Blog]]></title>
      <url>http://dwayneten.com/2015/02/26/New-Blog/</url>
      <content type="html"><![CDATA[<p>先后换过不少博客平台，后来受不了想自己搭建一个。</p>
<h3 id="u539F_u56E0"><a href="#u539F_u56E0" class="headerlink" title="原因"></a>原因</h3><blockquote>
<ul>
<li>打开速度慢</li>
<li>不支持代码块/代码高亮</li>
<li>可自定义程度太低</li>
<li>不支持 markdown</li>
</ul>
</blockquote>
<p>这里记录一下吧。</p>
<p>首先这个博客是托管在 GitHub 上由 Hexo 驱动的，主题是 Jacman，稍微地自定义了一下。<br>在 godaddy 注册了域名，用 DNSPOD 做 DNS 解析。<br>目前打算用于 post 一些解题报告，学习笔记之类的，或许有空时写点无关紧要的东西。</p>
<p>下面是一些 markdown 的语法测试</p>
<a id="more"></a>
<h2 id="u6D4B_u8BD5"><a href="#u6D4B_u8BD5" class="headerlink" title="测试"></a>测试</h2><h3 id="LaTeX"><a href="#LaTeX" class="headerlink" title="LaTeX"></a>LaTeX</h3><p>写 LaTex 数学公式需要在文章开头的<code>front-matter</code>中，加上一行<code>mathjax: true</code>。<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$$E=mc^2$$</span><br></pre></td></tr></table></figure></p>
<p>$$E=mc^2$$</p>
<h3 id="u4EE3_u7801_u9AD8_u4EAE"><a href="#u4EE3_u7801_u9AD8_u4EAE" class="headerlink" title="代码高亮"></a>代码高亮</h3><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span><br><span class="line"></span>&#123;</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"Hello World!"</span>);</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="u8868_u683C"><a href="#u8868_u683C" class="headerlink" title="表格"></a>表格</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">| 项目      | 价格   |  数量  |</span><br><span class="line">| ------    | -----: | :----: |</span><br><span class="line">| 计算机    | $1600  |   5    |</span><br><span class="line">| 手机      |   $12  |   12   |</span><br><span class="line">| 管线      |    $1  |  234   |</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>项目</th>
<th style="text-align:right">价格</th>
<th style="text-align:center">数量</th>
</tr>
</thead>
<tbody>
<tr>
<td>计算机</td>
<td style="text-align:right">$1600</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td>手机</td>
<td style="text-align:right">$12</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td>管线</td>
<td style="text-align:right">$1</td>
<td style="text-align:center">234</td>
</tr>
</tbody>
</table>
<h3 id="u5185_u94FE_u56FE_u7247"><a href="#u5185_u94FE_u56FE_u7247" class="headerlink" title="内链图片"></a>内链图片</h3><p>插入带有备注描述的图片<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="link_label">LOGO</span>](<span class="link_url">/img/logo.png</span>)</span><br></pre></td></tr></table></figure></p>
<p><img src="/img/logo.png" alt="LOGO"></p>
<h3 id="u5916_u94FE_u56FE_u7247"><a href="#u5916_u94FE_u56FE_u7247" class="headerlink" title="外链图片"></a>外链图片</h3><p>用html语法插入带阴影的图片<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="title">img</span> <span class="attribute">src</span> = "<span class="attribute">http:</span>//<span class="attribute">7vzsbj.com1.z0.glb.clouddn.com</span>/<span class="attribute">11.jpg</span>" <span class="attribute">class</span> = "<span class="attribute">img-shadow</span>" /&gt;</span></span><br></pre></td></tr></table></figure></p>
<p><img src="http://7vzsbj.com1.z0.glb.clouddn.com/11.jpg" class="img-shadow"></p>
<h3 id="u5176_u4ED6_B7_u53E6_u89C1"><a href="#u5176_u4ED6_B7_u53E6_u89C1" class="headerlink" title="其他·另见"></a>其他·另见</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">一行包含<span class="strong">**加粗**</span>的文字，</span><br><span class="line">突出显示某些<span class="code">``内容 content`</span>`。</span><br><span class="line">[<span class="link_label">Markdown 语法说明</span>][<span class="link_reference">1</span>]</span><br><span class="line">[<span class="link_label">MathJax LaTeX使用方法</span>][<span class="link_reference">2</span>]</span><br><span class="line">[<span class="link_reference">1</span>]:<span class="link_url"> http://wowubuntu.com/markdown/</span></span><br><span class="line">[<span class="link_reference">2</span>]:<span class="link_url"> http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference</span></span><br></pre></td></tr></table></figure>
<p>一行包含<strong>加粗</strong>的文字，<br>突出显示某些<code>内容 content</code>。<br><a href="http://wowubuntu.com/markdown/" target="_blank" rel="external">Markdown 语法说明</a><br><a href="http://meta.math.stackexchange.com/questions/5020/mathjax-basic-tutorial-and-quick-reference" target="_blank" rel="external">MathJax LaTeX使用方法</a></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Windows 下 gvim 的配置]]></title>
      <url>http://dwayneten.com/2015/02/23/vim-windows/</url>
      <content type="html"><![CDATA[<p>之前都是在 ubuntu 下用 vim，<br>前段时间笔记本不幸便当了，<br>家里台式机只有 win7，于是准备搞个 gvim 凑合。<br>装好 gvim 后发现 vimrc 文件在 gvim 的上一层目录。<br>编译环境的话装个带 MinGW 的 devc++，设置好环境变量就可以了。<br>备份一下配置。<br><a id="more"></a><br><figure class="highlight"><figcaption><span>Last update 2015-12-14 04:11:18</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">syntax on</span><br><span class="line">colorscheme desert</span><br><span class="line">set nu</span><br><span class="line">set tabstop=4</span><br><span class="line">set shiftwidth=4</span><br><span class="line">set mouse=a</span><br><span class="line">set cindent</span><br><span class="line"></span><br><span class="line">set termencoding=utf-8</span><br><span class="line">set fileencoding=utf-8</span><br><span class="line">set fileencodings=ucs-bom,utf-8,chinese,cp936</span><br><span class="line"></span><br><span class="line">map &lt;F6&gt; :call CR()&lt;CR&gt;</span><br><span class="line">func! CR()</span><br><span class="line">    exec "w"</span><br><span class="line">    exec "cd %:h"</span><br><span class="line">    exec "!g++ -O2 -g % -o %:r"</span><br><span class="line">    exec "!%:r.exe"</span><br><span class="line">endfunc</span><br><span class="line">    </span><br><span class="line">map &lt;C-A&gt; ggVG"+y</span><br><span class="line">     </span><br><span class="line">     </span><br><span class="line">"inoremap ( ()&lt;LEFT&gt;</span><br><span class="line">"inoremap [ []&lt;LEFT&gt;</span><br><span class="line">"inoremap &#123; &#123;&#125;&lt;LEFT&gt;</span><br><span class="line">"inoremap " ""&lt;LEFT&gt;</span><br><span class="line">"inoremap ' ''&lt;LEFT&gt;</span><br><span class="line">      </span><br><span class="line">     </span><br><span class="line">map   &lt;F2&gt; :call SetTitle()&lt;CR&gt;</span><br><span class="line">func SetTitle()</span><br><span class="line">    let l = 0</span><br><span class="line">    let l = l + 1 | call setline(l,'/*///////////////////////////////////////////////////////')</span><br><span class="line">    let l = l + 1 | call setline(l,'    Author        :Dwayne')</span><br><span class="line">    let l = l + 1 | call setline(l,'    Created Time  :'.strftime('%c'))</span><br><span class="line">    let l = l + 1 | call setline(l,'    File Name     :'.expand('%:t'))</span><br><span class="line">    let l = l + 1 | call setline(l,'///////////////////////////////////////////////////////*/')</span><br><span class="line">    let l = l + 1 | call setline(l,'')</span><br><span class="line">    let l = l + 1 | call setline(l,'#include &lt;bits/stdc++.h&gt;')</span><br><span class="line">    let l = l + 1 | call setline(l,'using namespace std;')</span><br><span class="line">    let l = l + 1 | call setline(l,'')</span><br><span class="line">    let l = l + 1 | call setline(l,'int n, m, k, tn, tcase = 0;')</span><br><span class="line">    let l = l + 1 | call setline(l,'')</span><br><span class="line">    let l = l + 1 | call setline(l,'int main()')</span><br><span class="line">    let l = l + 1 | call setline(l,'&#123;')</span><br><span class="line">    let l = l + 1 | call setline(l,'    freopen("in.txt", "r", stdin);')</span><br><span class="line">    let l = l + 1 | call setline(l,'    //freopen("out.txt", "w", stdout);')</span><br><span class="line">    let l = l + 1 | call setline(l,'    ')</span><br><span class="line">    let l = l + 1 | call setline(l,'    scanf("%d", &amp;n);')</span><br><span class="line">    let l = l + 1 | call setline(l,'    ')</span><br><span class="line">    let l = l + 1 | call setline(l,'    return 0;')</span><br><span class="line">    let l = l + 1 | call setline(l,'&#125;')</span><br><span class="line">endfunc</span><br></pre></td></tr></table></figure></p>
]]></content>
    </entry>
    
    <entry>
      <title><![CDATA[Python - 字体批量安装工具]]></title>
      <url>http://dwayneten.com/2014/06/14/FontInstaller/</url>
      <content type="html"><![CDATA[<p>做这个东西的想法是源于经理说过一个个解压装字体很麻烦<br>而且当时我也想装比较多的字体（笔记本上没什么字体）<br>于是就用 Python 边学边写了个 用时大概2-3天</p>
<p>实现了几个功能：<br>从指定文件夹</p>
<ol>
<li>解压所有<code>zip</code>压缩包到目标文件夹</li>
<li>提取所有<code>ttf</code> <code>otf</code>文件到目标文件夹</li>
<li>安装所有字体</li>
<li>删除所有非<code>ttf</code> <code>otf</code>和<code>zip</code>文件</li>
</ol>
<p>其实这些功能 bat 也能大致实现 只不过用起来没有那么友好和方便<br>这个就当尝试一下 Python 的 Tkinter 图形界面编程了</p>
<p>GitHub:<a href="https://github.com/Dwayneten/FontInstaller" target="_blank" rel="external">https://github.com/Dwayneten/FontInstaller</a><br><a id="more"></a><br>如果将来有空改进的话大概会加上</p>
<pre><code>* 支持rar压缩包
* 支持选择操作的文件类型
* …………
</code></pre><figure class="highlight python"><figcaption><span>安装部分的代码</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">install</span><span class="params">(self)</span>:</span></span><br><span class="line">	<span class="string">"""Install fonts from fontPath"""</span></span><br><span class="line"></span><br><span class="line">	couterInstalled = <span class="number">0</span></span><br><span class="line">	couterDeleted = <span class="number">0</span></span><br><span class="line">	<span class="comment"># judge fontpath</span></span><br><span class="line">	fontPath = self.fontPath.get()</span><br><span class="line">	<span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(fontPath):</span><br><span class="line">		self.errorFontpath()</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	<span class="keyword">for</span> root, dirs, files <span class="keyword">in</span> os.walk(fontPath):</span><br><span class="line">		<span class="keyword">for</span> fn <span class="keyword">in</span> files:</span><br><span class="line">     			<span class="comment"># get sufix</span></span><br><span class="line">			sufix = os.path.splitext(fn)[<span class="number">1</span>][<span class="number">1</span>:]</span><br><span class="line">			<span class="keyword">if</span> sufix == <span class="string">'ttf'</span> <span class="keyword">or</span> sufix == <span class="string">'TTF'</span> <span class="keyword">or</span> sufix == <span class="string">'otf'</span> <span class="keyword">or</span> sufix == <span class="string">'OTF'</span>:</span><br><span class="line">           	  	<span class="comment"># get path (change '/' to '\')</span></span><br><span class="line">				temp = <span class="string">''</span></span><br><span class="line">				<span class="keyword">for</span> c <span class="keyword">in</span> root:</span><br><span class="line">					<span class="keyword">if</span> c == <span class="string">'/'</span>:</span><br><span class="line">						temp += <span class="string">'\\'</span></span><br><span class="line">					<span class="keyword">else</span>:</span><br><span class="line">						temp += c</span><br><span class="line">         			<span class="comment"># calling vbs to install</span></span><br><span class="line">				os.system(<span class="string">'Installfont.vbs'</span>+<span class="string">' '</span>+temp+<span class="string">'\\'</span>+fn)</span><br><span class="line">				self.info.insert(END, <span class="string">'Installed: '</span>+root+<span class="string">'/'</span>+fn+<span class="string">'\n'</span>)</span><br><span class="line">				self.info.update()</span><br><span class="line">				self.info.yview(END)</span><br><span class="line">				couterInstalled += <span class="number">1</span></span><br><span class="line">			<span class="keyword">elif</span> sufix == <span class="string">'zip'</span> <span class="keyword">or</span> sufix == <span class="string">'ZIP'</span> <span class="keyword">or</span> sufix == <span class="string">'rar'</span> <span class="keyword">or</span> sufix == <span class="string">'RAR'</span>:</span><br><span class="line">				<span class="keyword">pass</span></span><br><span class="line">			<span class="keyword">elif</span> self.judDelete.get():</span><br><span class="line">				os.remove(root+<span class="string">'\\'</span>+fn)</span><br><span class="line">				self.info.insert(END, <span class="string">'Deleted: '</span>+root+<span class="string">'/'</span>+fn+<span class="string">'\n'</span>)</span><br><span class="line">				self.info.update()</span><br><span class="line">				self.info.yview(END)</span><br><span class="line">				couterDeleted += <span class="number">1</span></span><br><span class="line">	self.info.insert(END, <span class="string">'-'</span>*<span class="number">50</span>+<span class="string">'\n'</span>)</span><br><span class="line">	self.info.insert(END, <span class="string">'Installed'</span>+<span class="string">' '</span>+str(couterInstalled)+<span class="string">' Fonts.'</span>+<span class="string">'\n'</span>)</span><br><span class="line">	self.info.insert(END, <span class="string">'Deleted'</span>+<span class="string">' '</span>+str(couterDeleted)+<span class="string">' Files.'</span>+<span class="string">'\n'</span>)</span><br><span class="line">	self.info.update()</span><br><span class="line">	self.info.yview(END)</span><br></pre></td></tr></table></figure>
<p><img src="http://user-image.logdown.io/user/7784/blog/7704/post/207048/vNw9llZpREqY2Rs2hCN4_psb.jpg" alt="解压中"><br><img src="http://user-image.logdown.io/user/7784/blog/7704/post/207048/TQIJSkKTf6ydHPc3ubtg_psb%20(1" alt="安装中">.jpg)<br><img src="http://user-image.logdown.io/user/7784/blog/7704/post/207048/fjOyjJshQHeDplz5Qx8q_psb%20(2" alt="安装整理后">.jpg)</p>
]]></content>
    </entry>
    
  
  
</search>
